<div class="pd w0 h0"><div id="pfa" class="pf" data-page-no="a"><div class="pc pca"><img class="bi" alt="" src="data:image/png;base64,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AMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAAISlCQAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAADA/7RfhwQAAAAAgv6/9oYBJtjEWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAABv+/uwAAArASURBVMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYykBAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjKQEAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMpAQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAB8BfdxyRNL8AfDAAAAAElFTkSuQmCC"/><div class="t m0 xd ha y53 ff1 fs3 fc0 sc0 ls0 ws4">6.5<span class="_ _8"> </span>Calling External Functions</div><div class="t m0 xd h3 y1c2 ff2 fs3 fc0 sc0 ls0 ws6">Like<span class="_ _3"> </span>most interpreters, SpiderMonke<span class="_ _1"></span>y<span class="_ _3"> </span>has a foreign<span class="_ _3"> </span>function inter-</div><div class="t m0 xd h3 y1c3 ff2 fs3 fc0 sc0 ls0 ws4">face<span class="_ _3"> </span>(FFI) that<span class="_ _3"> </span>allows<span class="_ _3"> </span>it<span class="_ _3"> </span>to call<span class="_ _3"> </span>C b<span class="_ _1"></span>uiltins and<span class="_ _3"> </span>host<span class="_ _3"> </span>system functions</div><div class="t m0 xd h3 y1c4 ff2 fs3 fc0 sc0 ls0 ws2">(e.g., web bro<span class="_ _1"></span>wser control and DOM access).<span class="_ _6"> </span>The FFI has a stan-</div><div class="t m0 xd h3 y1c5 ff2 fs3 fc0 sc0 ls0 ws4">dard signature<span class="_ _3"> </span>for<span class="_ _3"> </span>JS-callable<span class="_ _3"> </span>functions,<span class="_ _3"> </span>the k<span class="_ _1"></span>ey<span class="_ _3"> </span>argument<span class="_ _3"> </span>of<span class="_ _3"> </span>which</div><div class="t m0 xd h3 y1c6 ff2 fs3 fc0 sc0 ls0 ws5">is an<span class="_ _6"> </span>array of boxed<span class="_ _6"> </span>values. External<span class="_ _6"> </span>functions called through<span class="_ _6"> </span>the</div><div class="t m0 xd h3 y1c7 ff2 fs3 fc0 sc0 ls0 wsd">FFI interact with the<span class="_ _3"> </span>program<span class="_ _3"> </span>state<span class="_ _3"> </span>through<span class="_ _9"> </span>an interpreter API (e.g.,</div><div class="t m0 xd h3 y1c8 ff2 fs3 fc0 sc0 ls0 ws2">to read<span class="_ _5"> </span>a property<span class="_ _5"> </span>from an<span class="_ _5"> </span>argument). There<span class="_ _5"> </span>are also<span class="_ _5"> </span>certain inter-</div><div class="t m0 xd h3 y1c9 ff2 fs3 fc0 sc0 ls0 ws4">preter b<span class="_ _1"></span>uiltins<span class="_ _3"> </span>that<span class="_ _3"> </span>do<span class="_ _3"> </span>not use<span class="_ _3"> </span>the<span class="_ _3"> </span>FFI,<span class="_ _3"> </span>but<span class="_ _3"> </span>interact<span class="_ _3"> </span>with<span class="_ _3"> </span>the<span class="_ _3"> </span>program</div><div class="t m0 xd h3 y4 ff2 fs3 fc0 sc0 ls0 ws8">state in the same<span class="_ _7"> </span>way<span class="_ _4"></span>, such as the <span class="ff7">CallIteratorNext </span>function</div><div class="t m0 xd h3 y1ca ff2 fs3 fc0 sc0 ls0 ws5">used with iterator objects. T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey must support<span class="_ _6"> </span>this FFI in</div><div class="t m0 xd h3 y1cb ff2 fs3 fc0 sc0 ls0 wsd">order to speed up code that interacts with the<span class="_ _3"> </span>host<span class="_ _3"> </span>system<span class="_ _3"> </span>inside<span class="_ _3"> </span>hot</div><div class="t m0 xd h3 y1cc ff2 fs3 fc0 sc0 ls0">loops.</div><div class="t m0 x11 h3 y19d ff2 fs3 fc0 sc0 ls0 ws4">Calling e<span class="_ _1"></span>xternal<span class="_ _3"> </span>functions from<span class="_ _3"> </span>T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _3"> </span>is<span class="_ _3"> </span>potentially dif-</div><div class="t m0 xd h3 y19e ff2 fs3 fc0 sc0 ls0 ws9">ﬁcult because traces do not update the interpreter state until exit-</div><div class="t m0 xd h3 y19f ff2 fs3 fc0 sc0 ls0 ws6">ing. In particular<span class="_ _1"></span>,<span class="_ _3"> </span>external functions may need the call<span class="_ _5"> </span>stack or the</div><div class="t m0 xd h3 y1a0 ff2 fs3 fc0 sc0 ls0 ws4">global variables, b<span class="_ _1"></span>ut the<span class="_ _1"></span>y may be out of date.</div><div class="t m0 x11 h3 y212 ff2 fs3 fc0 sc0 ls0 ws14">For the out-of-date<span class="_ _7"> </span>call<span class="_ _7"> </span>stack<span class="_ _7"> </span>problem,<span class="_ _6"> </span>we refactored some of</div><div class="t m0 xd h3 y213 ff2 fs3 fc0 sc0 ls0 ws2">the interpreter API implementation functions to re-materialize the</div><div class="t m0 xd h3 y214 ff2 fs3 fc0 sc0 ls0 ws4">interpreter call stack on demand.</div><div class="t m0 x11 h3 y215 ff2 fs3 fc0 sc0 ls0 ws5">W<span class="_ _4"></span>e dev<span class="_ _1"></span>eloped<span class="_ _6"> </span>a C++ static<span class="_ _6"> </span>analysis and annotated<span class="_ _6"> </span>some inter-</div><div class="t m0 xd h3 y216 ff2 fs3 fc0 sc0 ls0 ws8">preter functions<span class="_ _7"> </span>in order<span class="_ _7"> </span>to v<span class="_ _1"></span>erify that<span class="_ _7"> </span>the call<span class="_ _7"> </span>stack is<span class="_ _7"> </span>refreshed</div><div class="t m0 xd h3 y217 ff2 fs3 fc0 sc0 ls0 ws5">at any point it needs to<span class="_ _6"> </span>be used. In order to access the call stack,</div><div class="t m0 xd h3 y218 ff2 fs3 fc0 sc0 ls0 ws1b">a function must be annotated as either<span class="_ _e"> </span>F<span class="fse ls1 ws1c">ORCES<span class="fs3">S</span><span class="ls0 ws0">T<span class="_ _1"></span>AC<span class="_ _2"></span>K <span class="fs3">or R<span class="_ _2"></span></span><span class="ls1 ws1c">E</span><span class="fs3">-</span></span></span></div><div class="t m0 xd h3 y219 ff2 fse fc0 sc0 ls0 ws1">Q<span class="_ _2"></span>U<span class="_ _2"></span>I<span class="_ _2"></span>RE<span class="_ _2"></span>S<span class="_ _2"></span><span class="fs3 ls1 ws1c">S</span>TAC<span class="_ _2"></span>K<span class="fs3 ws4">. These annotations<span class="_ _3"> </span>are also<span class="_ _3"> </span>required in<span class="_ _3"> </span>order to<span class="_ _3"> </span>call</span></div><div class="t m0 xd h3 y21a ff2 fs3 fc0 sc0 ls1 ws1c">R<span class="fse ls0 ws1">E<span class="_ _2"></span>Q<span class="_ _2"></span>UI<span class="_ _2"></span>R<span class="_ _2"></span>E<span class="_ _2"></span>S<span class="_ _2"></span></span>S<span class="fse ls0 ws6">T<span class="_ _1"></span>AC<span class="_ _2"></span>K <span class="fs3 ws4">functions,<span class="_ _3"> </span>which are<span class="_ _3"> </span>presumed<span class="_ _3"> </span>to access<span class="_ _3"> </span>the call</span></span></div><div class="t m0 xd h3 y21b ff2 fs3 fc0 sc0 ls0 ws14">stack transitiv<span class="_ _1"></span>ely<span class="_ _4"></span>.<span class="_ _b"> </span>F<span class="_ _2"></span><span class="fse ls1 ws1c">ORC<span class="_ _1"></span>ES<span class="fs3">S</span><span class="ls0 ws8">T<span class="_ _1"></span>AC<span class="_ _2"></span>K <span class="fs3 ws14">is a trusted annotation, applied</span></span></span></div><div class="t m0 xd h3 y21c ff2 fs3 fc0 sc0 ls0 ws4">to only<span class="_ _3"> </span>5<span class="_ _3"> </span>functions,<span class="_ _3"> </span>that<span class="_ _3"> </span>means<span class="_ _3"> </span>the function<span class="_ _3"> </span>refreshes<span class="_ _3"> </span>the<span class="_ _3"> </span>call<span class="_ _3"> </span>stack.</div><div class="t m0 xd h3 y21d ff2 fs3 fc0 sc0 ls1 ws1c">R<span class="fse ls0 ws1">E<span class="_ _2"></span>Q<span class="_ _2"></span>UI<span class="_ _2"></span>R<span class="_ _2"></span>E<span class="_ _2"></span>S<span class="_ _2"></span></span>S<span class="fse ls0 ws5">T<span class="_ _1"></span>AC<span class="_ _2"></span>K <span class="fs3 ws2">is an untrusted annotation that means the func-</span></span></div><div class="t m0 xd h3 y21e ff2 fs3 fc0 sc0 ls0 ws4">tion may<span class="_ _3"> </span>only be<span class="_ _3"> </span>called if<span class="_ _3"> </span>the call stack<span class="_ _3"> </span>has already<span class="_ _3"> </span>been refreshed.</div><div class="t m0 x11 h3 y21f ff2 fs3 fc0 sc0 ls0 ws21">Similarly<span class="_ _1"></span>,<span class="_ _b"> </span>we detect when host functions attempt to directly</div><div class="t m0 xd h3 y220 ff2 fs3 fc0 sc0 ls0 ws4">read or<span class="_ _3"> </span>write global<span class="_ _3"> </span>variables,<span class="_ _3"> </span>and force<span class="_ _3"> </span>the currently<span class="_ _3"> </span>running trace</div><div class="t m0 xd h3 y221 ff2 fs3 fc0 sc0 ls0 wsa">to side exit. This<span class="_ _7"> </span>is necessary since we cache and unbox global</div><div class="t m0 xd h3 y222 ff2 fs3 fc0 sc0 ls0 ws4">variables into the acti<span class="_ _1"></span>v<span class="_ _1"></span>ation record during trace e<span class="_ _1"></span>xecution.</div><div class="t m0 x11 h3 y223 ff2 fs3 fc0 sc0 ls0 ws16">Since both<span class="_ _a"> </span>call-stack access and<span class="_ _a"> </span>global v<span class="_ _1"></span>ariable access<span class="_ _a"> </span>are</div><div class="t m0 xd h3 y224 ff2 fs3 fc0 sc0 ls0 wsd">rarely performed<span class="_ _9"> </span>by host<span class="_ _3"> </span>functions,<span class="_ _9"> </span>performance is<span class="_ _3"> </span>not<span class="_ _9"> </span>signiﬁcantly</div><div class="t m0 xd h3 y225 ff2 fs3 fc0 sc0 ls0 ws4">affected by these safety mechanisms.</div><div class="t m0 x11 h3 y226 ff2 fs3 fc0 sc0 ls0 ws4">Another problem<span class="_ _3"> </span>is that<span class="_ _3"> </span>external<span class="_ _3"> </span>functions can<span class="_ _3"> </span>reenter the<span class="_ _3"> </span>inter-</div><div class="t m0 xd h3 y227 ff2 fs3 fc0 sc0 ls0 ws2">preter by<span class="_ _5"> </span>calling scripts, which<span class="_ _5"> </span>in turn again<span class="_ _5"> </span>might want to<span class="_ _5"> </span>access</div><div class="t m0 xd h3 y228 ff2 fs3 fc0 sc0 ls0 wsd">the call stack or global v<span class="_ _1"></span>ariables. T<span class="_ _4"></span>o address this problem, we made</div><div class="t m0 xd h3 y229 ff2 fs3 fc0 sc0 ls0 wsd">the VM<span class="_ _9"> </span>set a ﬂag<span class="_ _3"> </span>whene<span class="_ _1"></span>v<span class="_ _1"></span>er the<span class="_ _9"> </span>interpreter is reentered<span class="_ _3"> </span>while<span class="_ _9"> </span>a com-</div><div class="t m0 xd h3 y22a ff2 fs3 fc0 sc0 ls0 ws4">piled trace is running.</div><div class="t m0 x11 h3 y1b4 ff2 fs3 fc0 sc0 ls0 ws4">Every<span class="_ _3"> </span>call to<span class="_ _3"> </span>an e<span class="_ _1"></span>xternal function<span class="_ _3"> </span>then<span class="_ _3"> </span>checks this<span class="_ _3"> </span>ﬂag and<span class="_ _3"> </span>exits</div><div class="t m0 xd h3 y1b5 ff2 fs3 fc0 sc0 ls0 wsd">the trace<span class="_ _3"> </span>immediately<span class="_ _9"> </span>after returning from the<span class="_ _9"> </span>external function call</div><div class="t m0 xd h3 y1b6 ff2 fs3 fc0 sc0 ls0 ws2">if it<span class="_ _5"> </span>is set.<span class="_ _5"> </span>There are man<span class="_ _1"></span>y<span class="_ _5"> </span>external functions<span class="_ _5"> </span>that seldom or<span class="_ _5"> </span>nev<span class="_ _1"></span>er</div><div class="t m0 xd h3 y1b7 ff2 fs3 fc0 sc0 ls0 ws12">reenter<span class="_ _1"></span>, and<span class="_ _7"> </span>they can be<span class="_ _7"> </span>called without problem, and<span class="_ _7"> </span>will cause</div><div class="t m0 xd h3 y1b8 ff2 fs3 fc0 sc0 ls0 ws4">trace exit only if necessary<span class="_ _4"></span>.</div><div class="t m0 x11 h3 y156 ff2 fs3 fc0 sc0 ls0 ws13">The FFI’<span class="_ _1"></span>s<span class="_ _b"> </span>boxed v<span class="_ _1"></span>alue array requirement has a performance</div><div class="t m0 xd h3 y1ba ff2 fs3 fc0 sc0 ls0 ws8">cost, so we deﬁned a<span class="_ _7"> </span>new<span class="_ _7"> </span>FFI that allo<span class="_ _1"></span>ws C functions<span class="_ _7"> </span>to be an-</div><div class="t m0 xd h3 y1bb ff2 fs3 fc0 sc0 ls0 ws5">notated with their ar<span class="_ _1"></span>gument types<span class="_ _6"> </span>so that the tracer can call<span class="_ _6"> </span>them</div><div class="t m0 xd h3 y1de ff2 fs3 fc0 sc0 ls0 ws4">directly<span class="_ _1"></span>,<span class="_ _3"> </span>without unnecessary argument con<span class="_ _1"></span>v<span class="_ _1"></span>ersions.</div><div class="t m0 x11 h3 y1bc ff2 fs3 fc0 sc0 ls0 ws6">Currently<span class="_ _1"></span>,<span class="_ _3"> </span>we do<span class="_ _5"> </span>not support<span class="_ _3"> </span>calling nativ<span class="_ _1"></span>e property<span class="_ _3"> </span>get and set</div><div class="t m0 xd h3 y1bd ff2 fs3 fc0 sc0 ls0 ws2">ov<span class="_ _1"></span>erride functions or DOM functions<span class="_ _6"> </span>directly from trace. Support</div><div class="t m0 xd h3 y1be ff2 fs3 fc0 sc0 ls0 ws4">is planned future work.</div><div class="t m0 xd ha yf0 ff1 fs3 fc0 sc0 ls0 ws1d">6.6 Correctness</div><div class="t m0 xd h3 y89 ff2 fs3 fc0 sc0 ls0 ws0">During de<span class="_ _1"></span>v<span class="_ _1"></span>elopment, we<span class="_ _a"> </span>had access<span class="_ _a"> </span>to e<span class="_ _1"></span>xisting Ja<span class="_ _1"></span>v<span class="_ _1"></span>aScript<span class="_ _a"> </span>test</div><div class="t m0 xd h3 y8a ff2 fs3 fc0 sc0 ls0 ws8">suites, b<span class="_ _1"></span>ut most<span class="_ _7"> </span>of them were<span class="_ _7"> </span>not designed<span class="_ _7"> </span>with tracing VMs<span class="_ _7"> </span>in</div><div class="t m0 xd h3 y8b ff2 fs3 fc0 sc0 ls0 ws4">mind and contained few loops.</div><div class="t m0 x11 h3 y8c ff2 fs3 fc0 sc0 ls0 ws14">One tool that helped us greatly was Mozilla’<span class="_ _1"></span>s<span class="_ _7"> </span>Ja<span class="_ _1"></span>v<span class="_ _1"></span>aScript fuzz</div><div class="t m0 xd h3 y8d ff2 fs3 fc0 sc0 ls0 ws8">tester<span class="_ _1"></span>, <span class="fse ls1 ws1c">JS<span class="_ _1"></span>FUNFU<span class="_ _1"></span>ZZ<span class="_ _1"></span><span class="fs3 ls0 ws14">, which generates random Ja<span class="_ _1"></span>v<span class="_ _1"></span>aScript programs</span></span></div><div class="t m0 xd h3 y8e ff2 fs3 fc0 sc0 ls0 wsa">by nesting<span class="_ _7"> </span>random language elements. W<span class="_ _4"></span>e modiﬁed <span class="fse ls1 ws1c">JSF<span class="_ _1"></span>UNFUZ<span class="_ _1"></span>Z<span class="_ _1"></span></span></div><div class="t m0 xd h3 y8f ff2 fs3 fc0 sc0 ls0 ws5">to generate<span class="_ _6"> </span>loops, and also<span class="_ _6"> </span>to test more<span class="_ _6"> </span>heavily certain<span class="_ _6"> </span>constructs</div><div class="t m0 xd h3 y90 ff2 fs3 fc0 sc0 ls0 ws4">we suspected w<span class="_ _1"></span>ould re<span class="_ _1"></span>v<span class="_ _1"></span>eal ﬂa<span class="_ _1"></span>ws in our<span class="_ _3"> </span>implementation. F<span class="_ _1"></span>or e<span class="_ _1"></span>xam-</div><div class="t m0 xd h3 y91 ff2 fs3 fc0 sc0 ls0 ws7">ple, we suspected bugs<span class="_ _9"> </span>in T<span class="_ _1"></span>raceMonkey’<span class="_ _4"></span>s handling of type-unstable</div><div class="c xf y22b w7 h1d"><div class="t m0 x20 hc yad ff16 fsf fc0 sc0 ls0 ws38">!&quot;#<span class="_ _23"> </span>$!&quot;# %!&quot;# &amp;!&quot;# &apos;!&quot;# (!&quot;# )!&quot;# *!&quot;# +!&quot;# ,!&quot;#<span class="_ _24"> </span>$!!&quot;#</div></div><div class="c x4e y64 w8 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0">&amp;-./012#3%4%56#</div></div><div class="c x50 y1a0 w9 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0">&amp;-.789:;#3%4,56#</div></div><div class="c x51 y22d wa h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">&amp;-.9&lt;=&gt;9&lt;/2#3$4%56#</div></div><div class="c x52 y62 wb h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">&lt;//2??.1@A&lt;9=.&gt;922?#3!4,56#</div></div><div class="c x53 y19e wc h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">&lt;//2??.B&lt;AAC0/;#3%4%56#</div></div><div class="c x54 y22e wd h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0">&lt;//2??.A18-=#3&apos;4%56#</div></div><div class="c x54 y22f we h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">&lt;//2??.A?@2D2#3&amp;4!56#</div></div><div class="c x55 y1cc wf h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">1@&gt;8:?.&amp;1@&gt;.1@&gt;?.@A.1=&gt;2#3%(4(56#</div></div><div class="c x10 y1eb w10 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">1@&gt;8:?.1@&gt;?.@A.1=&gt;2#3+4*56#</div></div><div class="c x56 y230 w11 h1f"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">1@&gt;8:?.1@&gt;E@?2.&lt;A-#3%(4%56#</div></div><div class="c x57 y1ca w12 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">1@&gt;8:?.A?@2D2.1@&gt;?#3%4*56#</div></div><div class="c x4c y231 w13 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">/8A&gt;98FG8E.9<span class="_ _1"></span>2/09?@D2#3$4!56#</div></div><div class="c x50 y232 w14 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">/9=:&gt;8.&lt;2?#3$4)56#</div></div><div class="c x51 y1c9 w15 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">/9=:&gt;8.7-(#3%4&amp;56#</div></div><div class="c x51 y233 w16 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">/9=:&gt;8.?;&lt;$#3(4,56#</div></div><div class="c x57 y234 w12 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">-&lt;&gt;2.B897&lt;&gt;<span class="_ _1"></span>.&gt;8H2#3$4$56#</div></div><div class="c x10 y1c7 w10 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">-&lt;&gt;2.B897&lt;&gt;<span class="_ _1"></span>.5:&lt;91#3$4!56#</div></div><div class="c x51 y135 w17 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">7&lt;&gt;;./89-@/#3&apos;4,56#</div></div><div class="c x10 y235 w10 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">7&lt;&gt;;.:&lt;9I&lt;F.?07?#3(4,56#</div></div><div class="c x56 y236 w18 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">7&lt;&gt;;.?:2/&gt;9&lt;F.A897#3*4$56#</div></div><div class="c x51 y237 wa h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">92J25:.-A&lt;#3&apos;4%56#</div></div><div class="c x54 y1 w19 h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">?&gt;9@AJ.1&lt;?2)&apos;#3%4(56#</div></div><div class="c x58 y238 w1a h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">?&gt;9@AJ.B&lt;?&gt;&lt;#3$4(56#</div></div><div class="c x59 y239 w1b h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">?&gt;9@AJ.&gt;&lt;J/F80-#3$4$56#</div></div><div class="c x52 y0 wb h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">?&gt;9@AJ.0A:&lt;/C./8-2#3$4%56#</div></div><div class="c x56 y23a w1c h1e"><div class="t m0 x4f h13 y22c ff16 fs7 fc0 sc0 ls0 ws1">?&gt;9@AJ.D&lt;F@-&lt;&gt;2.@A:0&gt;#3$4,56#</div></div><div class="c x5a y23b w1d hf"><div class="t m0 x5b hc y23c ff16 fsf fc0 sc0 ls0 ws1">KA&gt;29:92&gt;#</div></div><div class="c x5c y23b w1e hf"><div class="t m0 x5b hc y23c ff16 fsf fc0 sc0 ls0 ws1">L&lt;ID2#</div></div><div class="t m0 xf ha yd3 ff1 fs3 fc0 sc0 ls0 wsa">Figure<span class="_ _7"> </span>11.<span class="_ _e"> </span>Fraction of<span class="_ _7"> </span>dynamic bytecodes executed<span class="_ _7"> </span>by inter<span class="_ _1"></span>-</div><div class="t m0 xf h3 yd4 ff1 fs3 fc0 sc0 ls0 ws6">preter<span class="_ _3"> </span>and on nativ<span class="_ _1"></span>e traces.<span class="_ _3"> </span><span class="ff2">The speedup vs.<span class="_ _3"> </span>interpreter is sho<span class="_ _1"></span>wn</span></div><div class="t m0 xf h3 yd5 ff2 fs3 fc0 sc0 ls0 ws12">in parentheses next to<span class="_ _b"> </span>each test. The fraction<span class="_ _b"> </span>of bytecodes e<span class="_ _1"></span>xe-</div><div class="t m0 xf h3 yd6 ff2 fs3 fc0 sc0 ls0 ws10">cuted while<span class="_ _b"> </span>recording is too<span class="_ _a"> </span>small<span class="_ _b"> </span>to see<span class="_ _a"> </span>in<span class="_ _b"> </span>this ﬁgure,<span class="_ _a"> </span>e<span class="_ _1"></span>xcept</div><div class="t m0 xf h3 yd7 ff2 fs3 fc0 sc0 ls0 ws2">for <span class="ff7 ws1">crypto-md5</span>,<span class="_ _5"> </span>where fully<span class="_ _5"> </span>3% of bytecodes<span class="_ _5"> </span>are ex<span class="_ _1"></span>ecuted<span class="_ _5"> </span>while</div><div class="t m0 xf h3 yd8 ff2 fs3 fc0 sc0 ls0 ws8">recording. In<span class="_ _7"> </span>most of<span class="_ _7"> </span>the<span class="_ _7"> </span>tests, almost<span class="_ _7"> </span>all<span class="_ _7"> </span>the bytecodes<span class="_ _7"> </span>are e<span class="_ _1"></span>xe-</div><div class="t m0 xf h3 yd9 ff2 fs3 fc0 sc0 ls0 ws2">cuted by compiled traces. Three of the benchmarks are not traced</div><div class="t m0 xf h3 yda ff2 fs3 fc0 sc0 ls0 ws4">at all and run in the interpreter<span class="_ _1"></span>.</div><div class="t m0 xf h3 y1ad ff2 fs3 fc0 sc0 ls0 ws6">loops and hea<span class="_ _1"></span>vily branching code,<span class="_ _3"> </span>and a specialized fuzz tester in-</div><div class="t m0 xf h3 y1ae ff2 fs3 fc0 sc0 ls0 ws7">deed re<span class="_ _1"></span>vealed se<span class="_ _1"></span>veral<span class="_ _9"> </span>regressions which we subsequently corrected.</div><div class="t m0 xf h6 y14d ff1 fs1 fc0 sc0 ls0 wsc">7. Evaluation</div><div class="t m0 xf h3 y10c ff2 fs3 fc0 sc0 ls0 ws1a">W<span class="_ _4"></span>e ev<span class="_ _1"></span>aluated our Ja<span class="_ _1"></span>v<span class="_ _1"></span>aScript tracing implementation using Sun-</div><div class="t m0 xf h3 y10d ff2 fs3 fc0 sc0 ls0 ws2">Spider<span class="_ _1"></span>, the<span class="_ _5"> </span>industry standard Ja<span class="_ _1"></span>vaScript<span class="_ _5"> </span>benchmark suite. SunSpi-</div><div class="t m0 xf h3 y10e ff2 fs3 fc0 sc0 ls0 ws5">der consists of 26 short-running<span class="_ _6"> </span>(less than 250ms, av<span class="_ _1"></span>erage 26ms)</div><div class="t m0 xf h3 y10f ff2 fs3 fc0 sc0 ls0 ws2">Jav<span class="_ _1"></span>aScript programs.<span class="_ _6"> </span>This is in stark contrast<span class="_ _5"> </span>to benchmark suites</div><div class="t m0 xf h3 y110 ff2 fs3 fc0 sc0 ls0 ws5">such as SpecJVM98 (3) used to e<span class="_ _1"></span>valuate desktop and serv<span class="_ _1"></span>er Ja<span class="_ _1"></span>va</div><div class="t m0 xf h3 y111 ff2 fs3 fc0 sc0 ls0 ws6">VMs. Many<span class="_ _5"> </span>programs in those benchmarks<span class="_ _5"> </span>use large<span class="_ _3"> </span>data sets and</div><div class="t m0 xf h3 y112 ff2 fs3 fc0 sc0 ls0 wsd">ex<span class="_ _1"></span>ecute for minutes. The SunSpider programs carry out a v<span class="_ _1"></span>ariety of</div><div class="t m0 xf h3 y113 ff2 fs3 fc0 sc0 ls0 ws4">tasks, primarily<span class="_ _3"> </span>3d rendering,<span class="_ _3"> </span>bit-bashing, cryptographic<span class="_ _3"> </span>encoding,</div><div class="t m0 xf h3 y114 ff2 fs3 fc0 sc0 ls0 ws4">math kernels, and string processing.</div><div class="t m0 x10 h3 y115 ff2 fs3 fc0 sc0 ls0 ws8">All e<span class="_ _1"></span>xperiments were performed<span class="_ _7"> </span>on a<span class="_ _7"> </span>MacBook Pro with<span class="_ _7"> </span>2.2</div><div class="t m0 xf h3 ybf ff2 fs3 fc0 sc0 ls0 ws4">GHz Core 2 processor and 2 GB RAM running MacOS 10.5.</div><div class="t m0 x10 h3 yc0 ff1 fs3 fc0 sc0 ls0 wsa">Benchmark r<span class="_ _1"></span>esults. <span class="ff2">The main<span class="_ _7"> </span>question is whether programs</span></div><div class="t m0 xf h3 yc1 ff2 fs3 fc0 sc0 ls0 ws4">run faster<span class="_ _3"> </span>with tracing. F<span class="_ _1"></span>or this, we<span class="_ _3"> </span>ran the standard<span class="_ _3"> </span>SunSpider test</div><div class="t m0 xf h3 yc2 ff2 fs3 fc0 sc0 ls0 wsa">driv<span class="_ _1"></span>er<span class="_ _1"></span>, which starts<span class="_ _7"> </span>a Jav<span class="_ _1"></span>aScript interpreter<span class="_ _1"></span>, loads and runs each</div><div class="t m0 xf h3 yc3 ff2 fs3 fc0 sc0 ls0 ws8">program once<span class="_ _7"> </span>for<span class="_ _7"> </span>w<span class="_ _1"></span>armup, then<span class="_ _7"> </span>loads<span class="_ _7"> </span>and<span class="_ _7"> </span>runs<span class="_ _7"> </span>each<span class="_ _7"> </span>program<span class="_ _7"> </span>10</div><div class="t m0 xf h3 yc4 ff2 fs3 fc0 sc0 ls0 ws2">times and<span class="_ _5"> </span>reports the<span class="_ _5"> </span>average<span class="_ _5"> </span>time taken<span class="_ _5"> </span>by each. W<span class="_ _4"></span>e<span class="_ _5"> </span>ran 4 dif<span class="_ _1"></span>fer<span class="_ _1"></span>-</div><div class="t m0 xf h3 yc5 ff2 fs3 fc0 sc0 ls0 ws6">ent conﬁgurations for comparison: (a) SpiderMonk<span class="_ _1"></span>ey<span class="_ _4"></span>, the baseline</div><div class="t m0 xf h3 yc6 ff2 fs3 fc0 sc0 ls0 ws6">interpreter<span class="_ _1"></span>, (b) T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y<span class="_ _4"></span>, (d) SquirrelFish Extreme (SFX), the</div><div class="t m0 xf h3 y88 ff2 fs3 fc0 sc0 ls0 wsa">call-threaded Ja<span class="_ _1"></span>vaScript<span class="_ _7"> </span>interpreter used in<span class="_ _7"> </span>Apple’<span class="_ _1"></span>s W<span class="_ _4"></span>ebKit, and</div><div class="t m0 xf h3 y89 ff2 fs3 fc0 sc0 ls0 ws4">(e) V8, the method-compiling Jav<span class="_ _1"></span>aScript VM from Google.</div><div class="t m0 x10 h3 y8a ff2 fs3 fc0 sc0 ls0 ws7">Figure 10 shows the relati<span class="_ _1"></span>v<span class="_ _1"></span>e speedups achie<span class="_ _1"></span>ved by tracing, SFX,</div><div class="t m0 xf h3 y8b ff2 fs3 fc0 sc0 ls0 ws6">and V8 against<span class="_ _5"> </span>the baseline (SpiderMonke<span class="_ _1"></span>y). T<span class="_ _1"></span>racing<span class="_ _5"> </span>achiev<span class="_ _1"></span>es the</div><div class="t m0 xf h3 y8c ff2 fs3 fc0 sc0 ls0 ws6">best speedups<span class="_ _3"> </span>in integer<span class="_ _1"></span>-heavy<span class="_ _3"> </span>benchmarks, up to<span class="_ _3"> </span>the 25x speedup</div><div class="t m0 xf h3 y8d ff2 fs3 fc0 sc0 ls0 ws4">on <span class="ff7 ws1">bitops-bitwise-and</span>.</div><div class="t m0 x10 h3 y8e ff2 fs3 fc0 sc0 ls0 ws21">T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y is the fastest VM on 9 of the 26 benchmarks</div><div class="t m0 xf h3 y8f ff2 fs3 fc0 sc0 ls0 ws1">(<span class="ff7">3d-morph</span><span class="ls16">,</span><span class="ff7">bitops-3bit-bits-in-byte</span><span class="ls16">,</span><span class="ff7">bitops-bitwise-</span></div><div class="t m0 xf h3 y90 ff7 fs3 fc0 sc0 ls0 ws1">and<span class="ff2 ls9 ws22">,</span>crypto-sha1<span class="ff2 ls9 ws22">,</span>math-cordic<span class="ff2 ls9 ws22">,</span>math-partial-sums<span class="ff2 ls9 ws22">,</span>math-</div><div class="t m0 xf h3 y91 ff7 fs3 fc0 sc0 ls0 ws1">spectral-norm<span class="ff2 ls15 ws39">,</span>string-base64<span class="ff2 ls15 ws39">,</span>string-validate-input<span class="ff2">).</span></div></div><div class="pi" data-data='{"ctm":[1.673203,0.000000,0.000000,1.673203,0.000000,0.000000]}'></div></div></div>
