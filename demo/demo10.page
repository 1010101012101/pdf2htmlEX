<div class="pd w0 h0"><div id="pfa" class="pf" data-page-no="a"><div class="pc pca"><img class="bi" alt="" src="data:image/png;base64,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LAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAABhaQQAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhL/qv9OiQAAAAAEPT/tTcMMMEmAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWPtUvlwAAAq1SURBVAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLGUAAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsZQAAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxlAAAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAvgIuIqwt/CJvWAAAAABJRU5ErkJggg=="/><div class="t m0 x2f hb y5b ff1 fs3 fc0 sc0 ls0 ws0">6.5<span class="_ _9"> </span>Calling<span class="_ _5"> </span>External<span class="_ _5"> </span>Functions</div><div class="t m0 x2f h5 y1e0 ff2 fs3 fc0 sc0 ls0 ws0">Like<span class="_ _5"> </span>most<span class="_ _5"> </span>interpreters,<span class="_ _3"> </span>SpiderMonk<span class="_ _2"></span>e<span class="_ _2"></span>y<span class="_ _5"> </span>has<span class="_ _3"> </span>a<span class="_ _5"> </span>foreign<span class="_ _5"> </span>function<span class="_ _5"> </span>inter-</div><div class="t m0 x2f h5 y1e1 ff2 fs3 fc0 sc0 ls0 ws0">face<span class="_ _5"> </span>(FFI)<span class="_ _5"> </span>that<span class="_ _5"> </span>allo<span class="_ _2"></span>ws<span class="_ _5"> </span>it<span class="_ _7"> </span>to<span class="_ _5"> </span>call<span class="_ _5"> </span>C<span class="_ _5"> </span>builtins<span class="_ _5"> </span>and<span class="_ _5"> </span>host<span class="_ _7"> </span>system<span class="_ _5"> </span>functions</div><div class="t m0 x2f h5 y1e2 ff2 fs3 fc0 sc0 ls0 ws0">(e.g.,<span class="_ _3"> </span>web<span class="_ _3"> </span>bro<span class="_ _2"></span>wser<span class="_ _3"> </span>control<span class="_ _3"> </span>and<span class="_ _3"> </span>DOM<span class="_ _3"> </span>access).<span class="_ _3"> </span>The<span class="_ _3"> </span>FFI<span class="_ _3"> </span>has<span class="_ _5"> </span>a<span class="_ _3"> </span>stan-</div><div class="t m0 x2f h5 y1e3 ff2 fs3 fc0 sc0 ls0 ws0">dard<span class="_ _5"> </span>signature<span class="_ _5"> </span>for<span class="_ _7"> </span>JS-callable<span class="_ _5"> </span>functions,<span class="_ _5"> </span>the<span class="_ _5"> </span>k<span class="_ _2"></span>ey<span class="_ _5"> </span>ar<span class="_ _2"></span>gument<span class="_ _5"> </span>of<span class="_ _7"> </span>which</div><div class="t m0 x2f h5 y1e4 ff2 fs3 fc0 sc0 ls0 ws0">is<span class="_ _3"> </span>an<span class="_ _3"> </span>array<span class="_ _3"> </span>of<span class="_ _6"> </span>box<span class="_ _2"></span>ed<span class="_ _3"> </span>values.<span class="_ _3"> </span>External<span class="_ _3"> </span>functions<span class="_ _3"> </span>called<span class="_ _3"> </span>through<span class="_ _3"> </span>the</div><div class="t m0 x2f h5 y3 ff2 fs3 fc0 sc0 ls0 ws0">FFI<span class="_ _5"> </span>interact<span class="_ _7"> </span>with<span class="_ _5"> </span>the<span class="_ _5"> </span>program<span class="_ _7"> </span>state<span class="_ _5"> </span>through<span class="_ _5"> </span>an<span class="_ _7"> </span>interpreter<span class="_ _5"> </span>API<span class="_ _5"> </span>(e.g.,</div><div class="t m0 x2f h5 y1e5 ff2 fs3 fc0 sc0 ls0 ws0">to<span class="_ _3"> </span>read<span class="_ _5"> </span>a<span class="_ _3"> </span>property<span class="_ _5"> </span>from<span class="_ _3"> </span>an<span class="_ _3"> </span>ar<span class="_ _2"></span>gument).<span class="_ _5"> </span>There<span class="_ _3"> </span>are<span class="_ _3"> </span>also<span class="_ _5"> </span>certain<span class="_ _3"> </span>inter<span class="_ _2"></span>-</div><div class="t m0 x2f h5 y1e6 ff2 fs3 fc0 sc0 ls0 ws0">preter<span class="_ _5"> </span>b<span class="_ _2"></span>uiltins<span class="_ _5"> </span>that<span class="_ _5"> </span>do<span class="_ _7"> </span>not<span class="_ _5"> </span>use<span class="_ _5"> </span>the<span class="_ _5"> </span>FFI,<span class="_ _7"> </span>but<span class="_ _5"> </span>interact<span class="_ _5"> </span>with<span class="_ _7"> </span>the<span class="_ _5"> </span>program</div><div class="t m0 x2f h5 y6 ff2 fs3 fc0 sc0 ls0 ws0">state<span class="_ _6"> </span>in<span class="_ _8"> </span>the<span class="_ _6"> </span>same<span class="_ _6"> </span>way<span class="_ _2"></span>,<span class="_ _6"> </span>such<span class="_ _6"> </span>as<span class="_ _6"> </span>the<span class="_ _8"> </span><span class="ff7">CallIteratorNext<span class="_ _6"> </span></span>function</div><div class="t m0 x2f h5 y1e7 ff2 fs3 fc0 sc0 ls0 ws0">used<span class="_ _3"> </span>with<span class="_ _6"> </span>iterator<span class="_ _3"> </span>objects.<span class="_ _6"> </span>T<span class="_ _2"></span>raceMonk<span class="_ _2"></span>ey<span class="_ _3"> </span>must<span class="_ _3"> </span>support<span class="_ _6"> </span>this<span class="_ _3"> </span>FFI<span class="_ _6"> </span>in</div><div class="t m0 x2f h5 y1e8 ff2 fs3 fc0 sc0 ls0 ws0">order<span class="_ _5"> </span>to<span class="_ _5"> </span>speed<span class="_ _7"> </span>up<span class="_ _5"> </span>code<span class="_ _5"> </span>that<span class="_ _7"> </span>interacts<span class="_ _5"> </span>with<span class="_ _5"> </span>the<span class="_ _7"> </span>host<span class="_ _5"> </span>system<span class="_ _5"> </span>inside<span class="_ _7"> </span>hot</div><div class="t m0 x2f h5 y1e9 ff2 fs3 fc0 sc0 ls0 ws0">loops.</div><div class="t m0 x34 h5 y1bb ff2 fs3 fc0 sc0 ls0 ws0">Calling<span class="_ _5"> </span>e<span class="_ _2"></span>xternal<span class="_ _5"> </span>functions<span class="_ _5"> </span>from<span class="_ _5"> </span>T<span class="_ _b"></span>raceMonkey<span class="_ _5"> </span>is<span class="_ _5"> </span>potentially<span class="_ _7"> </span>dif-</div><div class="t m0 x2f h5 y1bc ff2 fs3 fc0 sc0 ls0 ws0">ﬁcult<span class="_ _3"> </span>because<span class="_ _6"> </span>traces<span class="_ _3"> </span>do<span class="_ _6"> </span>not<span class="_ _3"> </span>update<span class="_ _6"> </span>the<span class="_ _3"> </span>interpreter<span class="_ _6"> </span>state<span class="_ _3"> </span>until<span class="_ _6"> </span>exit-</div><div class="t m0 x2f h5 y1bd ff2 fs3 fc0 sc0 ls0 ws0">ing.<span class="_ _3"> </span>In<span class="_ _5"> </span>particular<span class="_ _2"></span>,<span class="_ _5"> </span>external<span class="_ _5"> </span>functions<span class="_ _3"> </span>may<span class="_ _5"> </span>need<span class="_ _3"> </span>the<span class="_ _5"> </span>call<span class="_ _3"> </span>stack<span class="_ _5"> </span>or<span class="_ _5"> </span>the</div><div class="t m0 x2f h5 y1be ff2 fs3 fc0 sc0 ls0 ws0">global<span class="_ _5"> </span>variables,<span class="_ _5"> </span>but<span class="_ _5"> </span>the<span class="_ _2"></span>y<span class="_ _5"> </span>may<span class="_ _5"> </span>be<span class="_ _3"> </span>out<span class="_ _5"> </span>of<span class="_ _5"> </span>date.</div><div class="t m0 x34 h5 y239 ff2 fs3 fc0 sc0 ls0 ws0">For<span class="_ _3"> </span>the<span class="_ _6"> </span>out-of-date<span class="_ _6"> </span>call<span class="_ _3"> </span>stack<span class="_ _6"> </span>problem,<span class="_ _6"> </span>we<span class="_ _6"> </span>refactored<span class="_ _3"> </span>some<span class="_ _6"> </span>of</div><div class="t m0 x2f h5 y23a ff2 fs3 fc0 sc0 ls0 ws0">the<span class="_ _3"> </span>interpreter<span class="_ _3"> </span>API<span class="_ _3"> </span>implementation<span class="_ _3"> </span>functions<span class="_ _3"> </span>to<span class="_ _3"> </span>re-materialize<span class="_ _3"> </span>the</div><div class="t m0 x2f h5 y23b ff2 fs3 fc0 sc0 ls0 ws0">interpreter<span class="_ _5"> </span>call<span class="_ _5"> </span>stack<span class="_ _3"> </span>on<span class="_ _5"> </span>demand.</div><div class="t m0 x34 h5 y1c0 ff2 fs3 fc0 sc0 ls0 ws0">W<span class="_ _b"></span>e<span class="_ _3"> </span>developed<span class="_ _3"> </span>a<span class="_ _3"> </span>C++<span class="_ _3"> </span>static<span class="_ _3"> </span>analysis<span class="_ _3"> </span>and<span class="_ _3"> </span>annotated<span class="_ _3"> </span>some<span class="_ _3"> </span>inter-</div><div class="t m0 x2f h5 y23c ff2 fs3 fc0 sc0 ls0 ws0">preter<span class="_ _6"> </span>functions<span class="_ _6"> </span>in<span class="_ _6"> </span>order<span class="_ _8"> </span>to<span class="_ _6"> </span>verify<span class="_ _6"> </span>that<span class="_ _6"> </span>the<span class="_ _6"> </span>call<span class="_ _6"> </span>stack<span class="_ _6"> </span>is<span class="_ _8"> </span>refreshed</div><div class="t m0 x2f h5 y23d ff2 fs3 fc0 sc0 ls0 ws0">at<span class="_ _3"> </span>any<span class="_ _6"> </span>point<span class="_ _3"> </span>it<span class="_ _3"> </span>needs<span class="_ _6"> </span>to<span class="_ _3"> </span>be<span class="_ _6"> </span>used.<span class="_ _3"> </span>In<span class="_ _6"> </span>order<span class="_ _3"> </span>to<span class="_ _3"> </span>access<span class="_ _6"> </span>the<span class="_ _3"> </span>call<span class="_ _6"> </span>stack,</div><div class="t m0 x2f h5 y23e ff2 fs3 fc0 sc0 ls0 ws0">a<span class="_ _1"> </span>function<span class="_ _d"> </span>must<span class="_ _1"> </span>be<span class="_ _d"> </span>annotated<span class="_ _1"> </span>as<span class="_ _d"> </span>either<span class="_ _1"> </span>F<span class="_ _4"></span><span class="fse">O<span class="_ _4"></span>R<span class="_ _4"></span>C<span class="_ _4"></span>ES<span class="_ _4"></span></span>S<span class="_ _4"></span><span class="fse">TAC<span class="_ _4"></span>K<span class="_ _1"> </span></span>or<span class="_ _1"> </span>R<span class="_ _4"></span><span class="fse">E<span class="_ _4"></span></span>-</div><div class="t m0 x2f h5 y23f ff2 fse fc0 sc0 ls0 ws0">Q<span class="_ _4"></span>U<span class="_ _4"></span>I<span class="_ _4"></span>RE<span class="_ _4"></span>S<span class="_ _4"></span><span class="fs3">S<span class="_ _4"></span></span>TAC<span class="_ _4"></span>K<span class="fs3">.<span class="_ _5"> </span>These<span class="_ _5"> </span>annotations<span class="_ _5"> </span>are<span class="_ _5"> </span>also<span class="_ _5"> </span>required<span class="_ _5"> </span>i<span class="_ _2"></span>n<span class="_ _5"> </span>order<span class="_ _5"> </span>to<span class="_ _5"> </span>call</span></div><div class="t m0 x2f h5 y240 ff2 fs3 fc0 sc0 ls0 ws0">R<span class="_ _4"></span><span class="fse">E<span class="_ _4"></span>Q<span class="_ _4"></span>UI<span class="_ _4"></span>R<span class="_ _4"></span>E<span class="_ _4"></span>S<span class="_ _4"></span></span>S<span class="_ _4"></span><span class="fse">T<span class="_ _2"></span>AC<span class="_ _4"></span>K<span class="_ _5"> </span><span class="fs3">functions,<span class="_ _5"> </span>which<span class="_ _5"> </span>are<span class="_ _5"> </span>presumed<span class="_ _5"> </span>to<span class="_ _5"> </span>access<span class="_ _5"> </span>the<span class="_ _7"> </span>call</span></span></div><div class="t m0 x2f h5 y241 ff2 fs3 fc0 sc0 ls0 ws0">stack<span class="_ _6"> </span>transiti<span class="_ _2"></span>vely<span class="_ _b"></span>.<span class="_ _8"> </span>F<span class="_ _4"></span><span class="fse">O<span class="_ _4"></span>R<span class="_ _4"></span>CE<span class="_ _4"></span>S<span class="_ _4"></span></span>S<span class="_ _4"></span><span class="fse">TAC<span class="_ _4"></span>K<span class="_ _6"> </span></span>is<span class="_ _6"> </span>a<span class="_ _6"> </span>trusted<span class="_ _6"> </span>annotation,<span class="_ _3"> </span>applied</div><div class="t m0 x2f h5 y242 ff2 fs3 fc0 sc0 ls0 ws0">to<span class="_ _5"> </span>only<span class="_ _5"> </span>5<span class="_ _7"> </span>functions,<span class="_ _5"> </span>that<span class="_ _5"> </span>means<span class="_ _5"> </span>the<span class="_ _7"> </span>function<span class="_ _5"> </span>refreshes<span class="_ _5"> </span>the<span class="_ _5"> </span>call<span class="_ _7"> </span>stack.</div><div class="t m0 x2f h5 y243 ff2 fs3 fc0 sc0 ls0 ws0">R<span class="_ _4"></span><span class="fse">E<span class="_ _4"></span>Q<span class="_ _4"></span>UI<span class="_ _4"></span>R<span class="_ _4"></span>E<span class="_ _4"></span>S<span class="_ _4"></span></span>S<span class="_ _4"></span><span class="fse">T<span class="_ _2"></span>AC<span class="_ _4"></span>K<span class="_ _6"> </span><span class="fs3">is<span class="_ _3"> </span>an<span class="_ _3"> </span>untrusted<span class="_ _3"> </span>annotation<span class="_ _3"> </span>that<span class="_ _3"> </span>means<span class="_ _5"> </span>the<span class="_ _3"> </span>func-</span></span></div><div class="t m0 x2f h5 y244 ff2 fs3 fc0 sc0 ls0 ws0">tion<span class="_ _5"> </span>may<span class="_ _5"> </span>only<span class="_ _5"> </span>be<span class="_ _5"> </span>called<span class="_ _5"> </span>if<span class="_ _5"> </span>the<span class="_ _5"> </span>call<span class="_ _7"> </span>stack<span class="_ _5"> </span>has<span class="_ _5"> </span>already<span class="_ _5"> </span>been<span class="_ _5"> </span>refreshed.</div><div class="t m0 x34 h5 y245 ff2 fs3 fc0 sc0 ls0 ws0">Similarly<span class="_ _2"></span>,<span class="_ _8"> </span>we<span class="_ _d"> </span>detect<span class="_ _d"> </span>when<span class="_ _d"> </span>host<span class="_ _d"> </span>functions<span class="_ _d"> </span>attempt<span class="_ _d"> </span>to<span class="_ _d"> </span>directly</div><div class="t m0 x2f h5 y246 ff2 fs3 fc0 sc0 ls0 ws0">read<span class="_ _5"> </span>or<span class="_ _5"> </span>write<span class="_ _5"> </span>global<span class="_ _5"> </span>v<span class="_ _2"></span>ariables,<span class="_ _5"> </span>and<span class="_ _5"> </span>force<span class="_ _5"> </span>the<span class="_ _5"> </span>currently<span class="_ _7"> </span>running<span class="_ _5"> </span>trace</div><div class="t m0 x2f h5 y247 ff2 fs3 fc0 sc0 ls0 ws0">to<span class="_ _8"> </span>side<span class="_ _8"> </span>exit.<span class="_ _6"> </span>This<span class="_ _8"> </span>is<span class="_ _8"> </span>necessary<span class="_ _8"> </span>since<span class="_ _8"> </span>we<span class="_ _8"> </span>cache<span class="_ _8"> </span>and<span class="_ _8"> </span>unbox<span class="_ _8"> </span>global</div><div class="t m0 x2f h5 y248 ff2 fs3 fc0 sc0 ls0 ws0">variables<span class="_ _5"> </span>into<span class="_ _5"> </span>the<span class="_ _5"> </span>activ<span class="_ _2"></span>ation<span class="_ _5"> </span>record<span class="_ _5"> </span>during<span class="_ _5"> </span>trace<span class="_ _5"> </span>execution.</div><div class="t m0 x34 h5 y249 ff2 fs3 fc0 sc0 ls0 ws0">Since<span class="_ _1"> </span>both<span class="_ _1"> </span>call-stack<span class="_ _1"> </span>access<span class="_ _1"> </span>and<span class="_ _1"> </span>global<span class="_ _1"> </span>variable<span class="_ _1"> </span>access<span class="_ _1"> </span>are</div><div class="t m0 x2f h5 y24a ff2 fs3 fc0 sc0 ls0 ws0">rarely<span class="_ _5"> </span>performed<span class="_ _7"> </span>by<span class="_ _7"> </span>host<span class="_ _5"> </span>functions,<span class="_ _7"> </span>performance<span class="_ _5"> </span>is<span class="_ _7"> </span>not<span class="_ _5"> </span>signiﬁcantly</div><div class="t m0 x2f h5 y24b ff2 fs3 fc0 sc0 ls0 ws0">affected<span class="_ _5"> </span>by<span class="_ _5"> </span>these<span class="_ _5"> </span>safety<span class="_ _5"> </span>mechanisms.</div><div class="t m0 x34 h5 y24c ff2 fs3 fc0 sc0 ls0 ws0">Another<span class="_ _5"> </span>problem<span class="_ _5"> </span>is<span class="_ _5"> </span>that<span class="_ _5"> </span>e<span class="_ _2"></span>xternal<span class="_ _5"> </span>functions<span class="_ _5"> </span>can<span class="_ _5"> </span>ree<span class="_ _2"></span>nter<span class="_ _5"> </span>the<span class="_ _5"> </span>inter<span class="_ _2"></span>-</div><div class="t m0 x2f h5 y24d ff2 fs3 fc0 sc0 ls0 ws0">preter<span class="_ _3"> </span>by<span class="_ _3"> </span>calling<span class="_ _5"> </span>scripts,<span class="_ _3"> </span>which<span class="_ _3"> </span>in<span class="_ _5"> </span>turn<span class="_ _3"> </span>again<span class="_ _3"> </span>might<span class="_ _5"> </span>want<span class="_ _3"> </span>to<span class="_ _3"> </span>access</div><div class="t m0 x2f h5 y24e ff2 fs3 fc0 sc0 ls0 ws0">the<span class="_ _5"> </span>call<span class="_ _7"> </span>stack<span class="_ _5"> </span>or<span class="_ _5"> </span>global<span class="_ _5"> </span>v<span class="_ _2"></span>ariables.<span class="_ _7"> </span>T<span class="_ _2"></span>o<span class="_ _7"> </span>address<span class="_ _5"> </span>this<span class="_ _5"> </span>problem,<span class="_ _7"> </span>we<span class="_ _5"> </span>made</div><div class="t m0 x2f h5 y24f ff2 fs3 fc0 sc0 ls0 ws0">the<span class="_ _5"> </span>VM<span class="_ _7"> </span>set<span class="_ _5"> </span>a<span class="_ _7"> </span>ﬂag<span class="_ _5"> </span>whene<span class="_ _2"></span>v<span class="_ _2"></span>er<span class="_ _7"> </span>the<span class="_ _5"> </span>interpreter<span class="_ _7"> </span>is<span class="_ _5"> </span>reentered<span class="_ _7"> </span>while<span class="_ _5"> </span>a<span class="_ _7"> </span>com-</div><div class="t m0 x2f h5 y250 ff2 fs3 fc0 sc0 ls0 ws0">piled<span class="_ _5"> </span>trace<span class="_ _5"> </span>is<span class="_ _3"> </span>running.</div><div class="t m0 x34 h5 y1d3 ff2 fs3 fc0 sc0 ls0 ws0">Every<span class="_ _5"> </span>call<span class="_ _5"> </span>to<span class="_ _5"> </span>an<span class="_ _7"> </span>external<span class="_ _5"> </span>function<span class="_ _5"> </span>then<span class="_ _5"> </span>checks<span class="_ _5"> </span>this<span class="_ _5"> </span>ﬂag<span class="_ _5"> </span>and<span class="_ _7"> </span>exits</div><div class="t m0 x2f h5 y1d4 ff2 fs3 fc0 sc0 ls0 ws0">the<span class="_ _5"> </span>trace<span class="_ _7"> </span>immediately<span class="_ _5"> </span>after<span class="_ _7"> </span>returning<span class="_ _5"> </span>from<span class="_ _7"> </span>the<span class="_ _5"> </span>e<span class="_ _2"></span>xternal<span class="_ _5"> </span>function<span class="_ _7"> </span>call</div><div class="t m0 x2f h5 y1d5 ff2 fs3 fc0 sc0 ls0 ws0">if<span class="_ _3"> </span>it<span class="_ _5"> </span>is<span class="_ _3"> </span>set.<span class="_ _3"> </span>There<span class="_ _5"> </span>are<span class="_ _3"> </span>many<span class="_ _5"> </span>external<span class="_ _3"> </span>functions<span class="_ _5"> </span>that<span class="_ _3"> </span>seldom<span class="_ _3"> </span>or<span class="_ _5"> </span>nev<span class="_ _2"></span>er</div><div class="t m0 x2f h5 y1d6 ff2 fs3 fc0 sc0 ls0 ws0">reenter<span class="_ _2"></span>,<span class="_ _8"> </span>and<span class="_ _8"> </span>they<span class="_ _8"> </span>can<span class="_ _8"> </span>be<span class="_ _8"> </span>called<span class="_ _8"> </span>without<span class="_ _8"> </span>problem,<span class="_ _d"> </span>and<span class="_ _6"> </span>will<span class="_ _d"> </span>cause</div><div class="t m0 x2f h5 y1d7 ff2 fs3 fc0 sc0 ls0 ws0">trace<span class="_ _5"> </span>exit<span class="_ _5"> </span>only<span class="_ _5"> </span>if<span class="_ _5"> </span>necessary<span class="_ _2"></span>.</div><div class="t m0 x34 h5 y170 ff2 fs3 fc0 sc0 ls0 ws0">The<span class="_ _d"> </span>FFI’<span class="_ _2"></span>s<span class="_ _8"> </span>boxed<span class="_ _8"> </span>value<span class="_ _8"> </span>array<span class="_ _d"> </span>requirement<span class="_ _d"> </span>has<span class="_ _d"> </span>a<span class="_ _8"> </span>performance</div><div class="t m0 x2f h5 y1d9 ff2 fs3 fc0 sc0 ls0 ws0">cost,<span class="_ _6"> </span>so<span class="_ _8"> </span>we<span class="_ _6"> </span>deﬁned<span class="_ _8"> </span>a<span class="_ _6"> </span>new<span class="_ _6"> </span>FFI<span class="_ _6"> </span>that<span class="_ _8"> </span>allows<span class="_ _6"> </span>C<span class="_ _6"> </span>functions<span class="_ _6"> </span>to<span class="_ _8"> </span>be<span class="_ _6"> </span>an-</div><div class="t m0 x2f h5 y201 ff2 fs3 fc0 sc0 ls0 ws0">notated<span class="_ _3"> </span>with<span class="_ _6"> </span>their<span class="_ _3"> </span>argument<span class="_ _3"> </span>types<span class="_ _3"> </span>so<span class="_ _3"> </span>that<span class="_ _6"> </span>the<span class="_ _3"> </span>tracer<span class="_ _3"> </span>can<span class="_ _6"> </span>call<span class="_ _3"> </span>them</div><div class="t m0 x2f h5 y202 ff2 fs3 fc0 sc0 ls0 ws0">directly<span class="_ _2"></span>,<span class="_ _5"> </span>without<span class="_ _5"> </span>unnecessary<span class="_ _5"> </span>argument<span class="_ _5"> </span>con<span class="_ _2"></span>v<span class="_ _2"></span>ersions.</div><div class="t m0 x34 h5 y1da ff2 fs3 fc0 sc0 ls0 ws0">Currently<span class="_ _2"></span>,<span class="_ _5"> </span>we<span class="_ _5"> </span>do<span class="_ _5"> </span>not<span class="_ _3"> </span>support<span class="_ _5"> </span>calling<span class="_ _5"> </span>nativ<span class="_ _2"></span>e<span class="_ _5"> </span>property<span class="_ _3"> </span>get<span class="_ _5"> </span>and<span class="_ _5"> </span>set</div><div class="t m0 x2f h5 y1db ff2 fs3 fc0 sc0 ls0 ws0">ov<span class="_ _2"></span>erride<span class="_ _3"> </span>functions<span class="_ _3"> </span>or<span class="_ _3"> </span>DOM<span class="_ _3"> </span>functions<span class="_ _3"> </span>directly<span class="_ _3"> </span>from<span class="_ _5"> </span>trace.<span class="_ _3"> </span>Support</div><div class="t m0 x2f h5 y1af ff2 fs3 fc0 sc0 ls0 ws0">is<span class="_ _5"> </span>planned<span class="_ _5"> </span>future<span class="_ _3"> </span>w<span class="_ _2"></span>ork.</div><div class="t m0 x2f hb yfd ff1 fs3 fc0 sc0 ls0 ws0">6.6<span class="_ _9"> </span>Corr<span class="_ _2"></span>ectness</div><div class="t m0 x2f h5 y95 ff2 fs3 fc0 sc0 ls0 ws0">During<span class="_ _1"> </span>de<span class="_ _2"></span>v<span class="_ _2"></span>elopment,<span class="_ _1"> </span>we<span class="_ _1"> </span>had<span class="_ _d"> </span>access<span class="_ _1"> </span>to<span class="_ _1"> </span>e<span class="_ _2"></span>xisting<span class="_ _1"> </span>Ja<span class="_ _2"></span>v<span class="_ _2"></span>aScript<span class="_ _1"> </span>test</div><div class="t m0 x2f h5 y96 ff2 fs3 fc0 sc0 ls0 ws0">suites,<span class="_ _6"> </span>but<span class="_ _6"> </span>most<span class="_ _6"> </span>of<span class="_ _6"> </span>them<span class="_ _6"> </span>were<span class="_ _8"> </span>not<span class="_ _6"> </span>designed<span class="_ _6"> </span>with<span class="_ _8"> </span>tracing<span class="_ _6"> </span>VMs<span class="_ _6"> </span>in</div><div class="t m0 x2f h5 y97 ff2 fs3 fc0 sc0 ls0 ws0">mind<span class="_ _5"> </span>and<span class="_ _5"> </span>contained<span class="_ _3"> </span>fe<span class="_ _2"></span>w<span class="_ _5"> </span>loops.</div><div class="t m0 x34 h5 y98 ff2 fs3 fc0 sc0 ls0 ws0">One<span class="_ _6"> </span>tool<span class="_ _6"> </span>that<span class="_ _3"> </span>helped<span class="_ _6"> </span>us<span class="_ _6"> </span>greatly<span class="_ _6"> </span>was<span class="_ _6"> </span>Mozilla’<span class="_ _2"></span>s<span class="_ _3"> </span>Jav<span class="_ _2"></span>aScript<span class="_ _3"> </span>fuzz</div><div class="t m0 x2f h5 y99 ff2 fs3 fc0 sc0 ls0 ws0">tester<span class="_ _2"></span>,<span class="_ _6"> </span><span class="fse">J<span class="_ _4"></span>S<span class="_ _4"></span>F<span class="_ _4"></span>U<span class="_ _4"></span>N<span class="_ _4"></span>FU<span class="_ _4"></span>Z<span class="_ _4"></span>Z<span class="_ _4"></span></span>,<span class="_ _3"> </span>which<span class="_ _6"> </span>generates<span class="_ _6"> </span>random<span class="_ _6"> </span>Ja<span class="_ _2"></span>vaScript<span class="_ _3"> </span>programs</div><div class="t m0 x2f h5 y9a ff2 fs3 fc0 sc0 ls0 ws0">by<span class="_ _6"> </span>nesting<span class="_ _8"> </span>random<span class="_ _8"> </span>language<span class="_ _8"> </span>elements.<span class="_ _6"> </span>W<span class="_ _2"></span>e<span class="_ _6"> </span>modiﬁed<span class="_ _8"> </span><span class="fse">J<span class="_ _4"></span>S<span class="_ _4"></span>F<span class="_ _4"></span>U<span class="_ _4"></span>N<span class="_ _4"></span>FU<span class="_ _4"></span>Z<span class="_ _4"></span>Z</span></div><div class="t m0 x2f h5 y9b ff2 fs3 fc0 sc0 ls0 ws0">to<span class="_ _3"> </span>generate<span class="_ _3"> </span>loops,<span class="_ _3"> </span>and<span class="_ _3"> </span>also<span class="_ _3"> </span>to<span class="_ _6"> </span>test<span class="_ _3"> </span>more<span class="_ _3"> </span>heavily<span class="_ _3"> </span>certain<span class="_ _3"> </span>constructs</div><div class="t m0 x2f h5 y9c ff2 fs3 fc0 sc0 ls0 ws0">we<span class="_ _5"> </span>suspected<span class="_ _5"> </span>would<span class="_ _5"> </span>re<span class="_ _2"></span>v<span class="_ _2"></span>eal<span class="_ _5"> </span>ﬂaws<span class="_ _5"> </span>in<span class="_ _5"> </span>our<span class="_ _5"> </span>implementation.<span class="_ _5"> </span>F<span class="_ _2"></span>or<span class="_ _5"> </span>e<span class="_ _2"></span>xam-</div><div class="t m0 x2f h5 y9d ff2 fs3 fc0 sc0 ls0 ws0">ple,<span class="_ _7"> </span>we<span class="_ _5"> </span>suspected<span class="_ _7"> </span>bugs<span class="_ _7"> </span>in<span class="_ _5"> </span>T<span class="_ _2"></span>raceMonk<span class="_ _2"></span>e<span class="_ _2"></span>y’<span class="_ _2"></span>s<span class="_ _7"> </span>handling<span class="_ _7"> </span>of<span class="_ _5"> </span>type-unstable</div><div class="c x32 y251 w7 h18"><div class="t m0 x40 hd yba ff16 fsf fc0 sc0 ls0 ws0">!&quot;#<span class="_ _29"> </span>$!&quot;#<span class="_ _2a"> </span>%!&quot;#<span class="_ _2a"> </span>&amp;!&quot;#<span class="_ _2a"> </span>&apos;!&quot;#<span class="_ _2a"> </span>(!&quot;#<span class="_ _2a"> </span>)!&quot;#<span class="_ _2a"> </span>*!&quot;#<span class="_ _2a"> </span>+!&quot;#<span class="_ _2a"> </span>,!&quot;#<span class="_ _e"> </span>$!!&quot;#</div></div><div class="c x85 y6c w8 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&amp;-./012#3%4%56#</div></div><div class="c xad y1be w9 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&amp;-.789:;#3%4,56#</div></div><div class="c xae y253 wa h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&amp;-.9&lt;=&gt;9&lt;/2#3$4%56#</div></div><div class="c xab y6a wb h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&lt;//2??.1@A&lt;9=.&gt;922?#3!4,56#</div></div><div class="c xaf y1bc wc h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&lt;//2??.B&lt;AAC0/;#3%4%56#</div></div><div class="c xb0 y254 wd h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&lt;//2??.A18-=#3&apos;4%56#</div></div><div class="c xb0 y255 we h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">&lt;//2??.A?@2D2#3&amp;4!56#</div></div><div class="c x7 y1e9 wf h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">1@&gt;8:?.&amp;1@&gt;.1@&gt;?.@A.1=&gt;2#3%(4(56#</div></div><div class="c x33 y211 w10 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">1@&gt;8:?.1@&gt;?.@A.1=&gt;2#3+4*56#</div></div><div class="c xb1 y256 w11 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">1@&gt;8:?.1@&gt;E@?2.&lt;A-#3%(4%56#</div></div><div class="c xb2 y1e7 w12 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">1@&gt;8:?.A?@2D2.1@&gt;?#3%4*56#</div></div><div class="c x83 y257 w13 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">/8A&gt;98FG8E.9<span class="_ _2"></span>2/09?@D2#3$4!56#</div></div><div class="c xad ya4 w14 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">/9=:&gt;8.&lt;2?#3$4)56#</div></div><div class="c xae y1e6 w15 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">/9=:&gt;8.7-(#3%4&amp;56#</div></div><div class="c xae y258 w16 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">/9=:&gt;8.?;&lt;$#3(4,56#</div></div><div class="c xb2 y259 w12 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">-&lt;&gt;2.B897&lt;&gt;<span class="_ _2"></span>.&gt;8H2#3$4$56#</div></div><div class="c x33 y25a w10 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">-&lt;&gt;2.B897&lt;&gt;<span class="_ _2"></span>.5:&lt;91#3$4!56#</div></div><div class="c x84 y14f w17 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">7&lt;&gt;;./89-@/#3&apos;4,56#</div></div><div class="c x33 y10c w10 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">7&lt;&gt;;.:&lt;9I&lt;F.?07?#3(4,56#</div></div><div class="c xb1 y25b w18 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">7&lt;&gt;;.?:2/&gt;9&lt;F.A897#3*4$56#</div></div><div class="c xae y25c wa h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">92J25:.-A&lt;#3&apos;4%56#</div></div><div class="c xb0 y1 w19 h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">?&gt;9@AJ.1&lt;?2)&apos;#3%4(56#</div></div><div class="c xb3 y25d w1a h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">?&gt;9@AJ.B&lt;?&gt;&lt;#3$4(56#</div></div><div class="c xb4 y25e w1b h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">?&gt;9@AJ.&gt;&lt;J/F80-#3$4$56#</div></div><div class="c xab y0 wb h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">?&gt;9@AJ.0A:&lt;/C./8-2#3$4%56#</div></div><div class="c xb1 y25f w1c h6"><div class="t m0 xac h12 y252 ff16 fs7 fc0 sc0 ls0 ws0">?&gt;9@AJ.D&lt;F@-&lt;&gt;2.@A:0&gt;#3$4,56#</div></div><div class="c x8d y216 w1d h3"><div class="t m0 xb5 hd y260 ff16 fsf fc0 sc0 ls0 ws0">KA&gt;29:92&gt;#</div></div><div class="c xb6 y216 w1e h3"><div class="t m0 xb5 hd y260 ff16 fsf fc0 sc0 ls0 ws0">L&lt;ID2#</div></div><div class="t m0 x32 hb ye0 ff1 fs3 fc0 sc0 ls0 ws0">Figure<span class="_ _6"> </span>11.<span class="_ _1"> </span>Fraction<span class="_ _8"> </span>of<span class="_ _6"> </span>dynamic<span class="_ _8"> </span>bytecodes<span class="_ _8"> </span>executed<span class="_ _6"> </span>by<span class="_ _8"> </span>inter-</div><div class="t m0 x32 h5 ye1 ff1 fs3 fc0 sc0 ls0 ws0">preter<span class="_ _5"> </span>and<span class="_ _5"> </span>on<span class="_ _3"> </span>nati<span class="_ _2"></span>ve<span class="_ _5"> </span>traces.<span class="_ _5"> </span><span class="ff2">The<span class="_ _5"> </span>speedup<span class="_ _3"> </span>vs.<span class="_ _5"> </span>interpreter<span class="_ _5"> </span>is<span class="_ _3"> </span>sho<span class="_ _2"></span>wn</span></div><div class="t m0 x32 h5 ye2 ff2 fs3 fc0 sc0 ls0 ws0">in<span class="_ _8"> </span>parentheses<span class="_ _d"> </span>next<span class="_ _8"> </span>to<span class="_ _8"> </span>each<span class="_ _d"> </span>test.<span class="_ _8"> </span>The<span class="_ _d"> </span>fraction<span class="_ _8"> </span>of<span class="_ _8"> </span>bytecodes<span class="_ _d"> </span>ex<span class="_ _2"></span>e-</div><div class="t m0 x32 h5 ye3 ff2 fs3 fc0 sc0 ls0 ws0">cuted<span class="_ _d"> </span>while<span class="_ _d"> </span>recording<span class="_ _d"> </span>is<span class="_ _1"> </span>too<span class="_ _8"> </span>small<span class="_ _d"> </span>to<span class="_ _1"> </span>see<span class="_ _8"> </span>in<span class="_ _1"> </span>this<span class="_ _8"> </span>ﬁgure,<span class="_ _1"> </span>e<span class="_ _2"></span>xcept</div><div class="t m0 x32 h5 ye4 ff2 fs3 fc0 sc0 ls0 ws0">for<span class="_ _3"> </span><span class="ff7">crypto-md5</span>,<span class="_ _5"> </span>where<span class="_ _3"> </span>fully<span class="_ _3"> </span>3%<span class="_ _5"> </span>of<span class="_ _3"> </span>bytecodes<span class="_ _3"> </span>are<span class="_ _5"> </span>executed<span class="_ _5"> </span>while</div><div class="t m0 x32 h5 ye5 ff2 fs3 fc0 sc0 ls0 ws0">recording.<span class="_ _6"> </span>In<span class="_ _6"> </span>most<span class="_ _6"> </span>of<span class="_ _6"> </span>the<span class="_ _6"> </span>tests,<span class="_ _6"> </span>almost<span class="_ _6"> </span>all<span class="_ _6"> </span>the<span class="_ _8"> </span>bytecodes<span class="_ _6"> </span>are<span class="_ _6"> </span>ex<span class="_ _2"></span>e-</div><div class="t m0 x32 h5 ye6 ff2 fs3 fc0 sc0 ls0 ws0">cuted<span class="_ _3"> </span>by<span class="_ _3"> </span>compiled<span class="_ _3"> </span>traces.<span class="_ _3"> </span>Three<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _3"> </span>benchmarks<span class="_ _3"> </span>are<span class="_ _3"> </span>not<span class="_ _3"> </span>traced</div><div class="t m0 x32 h5 ye7 ff2 fs3 fc0 sc0 ls0 ws0">at<span class="_ _5"> </span>all<span class="_ _5"> </span>and<span class="_ _3"> </span>run<span class="_ _5"> </span>in<span class="_ _5"> </span>the<span class="_ _5"> </span>interpreter<span class="_ _2"></span>.</div><div class="t m0 x32 h5 y1cc ff2 fs3 fc0 sc0 ls0 ws0">loops<span class="_ _5"> </span>and<span class="_ _3"> </span>hea<span class="_ _2"></span>vily<span class="_ _5"> </span>branching<span class="_ _3"> </span>code,<span class="_ _5"> </span>and<span class="_ _3"> </span>a<span class="_ _5"> </span>specialized<span class="_ _5"> </span>fuzz<span class="_ _3"> </span>tester<span class="_ _5"> </span>in-</div><div class="t m0 x32 h5 y1cd ff2 fs3 fc0 sc0 ls0 ws0">deed<span class="_ _7"> </span>revealed<span class="_ _7"> </span>sev<span class="_ _2"></span>eral<span class="_ _7"> </span>regressions<span class="_ _5"> </span>which<span class="_ _7"> </span>we<span class="_ _7"> </span>subsequently<span class="_ _5"> </span>corrected.</div><div class="t m0 x32 h9 y167 ff1 fs1 fc0 sc0 ls0 ws0">7.<span class="_ _a"> </span>Evaluation</div><div class="t m0 x32 h5 y123 ff2 fs3 fc0 sc0 ls0 ws0">W<span class="_ _b"></span>e<span class="_ _d"> </span>ev<span class="_ _2"></span>aluated<span class="_ _d"> </span>our<span class="_ _d"> </span>Ja<span class="_ _2"></span>v<span class="_ _2"></span>aScript<span class="_ _d"> </span>tracing<span class="_ _d"> </span>implementation<span class="_ _8"> </span>using<span class="_ _d"> </span>Sun-</div><div class="t m0 x32 h5 y124 ff2 fs3 fc0 sc0 ls0 ws0">Spider<span class="_ _2"></span>,<span class="_ _3"> </span>the<span class="_ _5"> </span>industry<span class="_ _3"> </span>standard<span class="_ _3"> </span>Jav<span class="_ _2"></span>aScript<span class="_ _3"> </span>benchmark<span class="_ _5"> </span>suite.<span class="_ _3"> </span>SunSpi-</div><div class="t m0 x32 h5 y125 ff2 fs3 fc0 sc0 ls0 ws0">der<span class="_ _3"> </span>consists<span class="_ _6"> </span>of<span class="_ _3"> </span>26<span class="_ _3"> </span>short-running<span class="_ _6"> </span>(less<span class="_ _3"> </span>than<span class="_ _3"> </span>250ms,<span class="_ _6"> </span>a<span class="_ _2"></span>verage<span class="_ _3"> </span>26ms)</div><div class="t m0 x32 h5 y126 ff2 fs3 fc0 sc0 ls0 ws0">Jav<span class="_ _2"></span>aScript<span class="_ _3"> </span>programs.<span class="_ _3"> </span>This<span class="_ _3"> </span>is<span class="_ _5"> </span>in<span class="_ _3"> </span>stark<span class="_ _3"> </span>contrast<span class="_ _3"> </span>to<span class="_ _3"> </span>benchmark<span class="_ _3"> </span>suites</div><div class="t m0 x32 h5 y127 ff2 fs3 fc0 sc0 ls0 ws0">such<span class="_ _3"> </span>as<span class="_ _6"> </span>SpecJVM98<span class="_ _3"> </span>(3)<span class="_ _6"> </span>used<span class="_ _3"> </span>to<span class="_ _6"> </span>e<span class="_ _2"></span>valuate<span class="_ _3"> </span>desktop<span class="_ _3"> </span>and<span class="_ _6"> </span>server<span class="_ _3"> </span>Jav<span class="_ _2"></span>a</div><div class="t m0 x32 h5 y128 ff2 fs3 fc0 sc0 ls0 ws0">VMs.<span class="_ _3"> </span>Man<span class="_ _2"></span>y<span class="_ _5"> </span>programs<span class="_ _3"> </span>in<span class="_ _5"> </span>those<span class="_ _5"> </span>benchmarks<span class="_ _3"> </span>use<span class="_ _5"> </span>large<span class="_ _5"> </span>data<span class="_ _3"> </span>sets<span class="_ _5"> </span>and</div><div class="t m0 x32 h5 y129 ff2 fs3 fc0 sc0 ls0 ws0">ex<span class="_ _2"></span>ecute<span class="_ _5"> </span>for<span class="_ _5"> </span>minutes.<span class="_ _7"> </span>The<span class="_ _5"> </span>SunSpider<span class="_ _5"> </span>programs<span class="_ _7"> </span>carry<span class="_ _5"> </span>out<span class="_ _5"> </span>a<span class="_ _5"> </span>v<span class="_ _2"></span>ariety<span class="_ _7"> </span>of</div><div class="t m0 x32 h5 y12a ff2 fs3 fc0 sc0 ls0 ws0">tasks,<span class="_ _5"> </span>primarily<span class="_ _5"> </span>3d<span class="_ _5"> </span>rendering,<span class="_ _5"> </span>bit-bashing,<span class="_ _5"> </span>cryptographic<span class="_ _7"> </span>encoding,</div><div class="t m0 x32 h5 y12b ff2 fs3 fc0 sc0 ls0 ws0">math<span class="_ _5"> </span>kernels,<span class="_ _5"> </span>and<span class="_ _5"> </span>string<span class="_ _3"> </span>processing.</div><div class="t m0 x33 h5 y12c ff2 fs3 fc0 sc0 ls0 ws0">All<span class="_ _6"> </span>experiments<span class="_ _6"> </span>were<span class="_ _6"> </span>performed<span class="_ _6"> </span>on<span class="_ _8"> </span>a<span class="_ _6"> </span>MacBook<span class="_ _6"> </span>Pro<span class="_ _8"> </span>with<span class="_ _6"> </span>2.2</div><div class="t m0 x32 h5 ycc ff2 fs3 fc0 sc0 ls0 ws0">GHz<span class="_ _5"> </span>Core<span class="_ _5"> </span>2<span class="_ _3"> </span>processor<span class="_ _5"> </span>and<span class="_ _5"> </span>2<span class="_ _5"> </span>GB<span class="_ _5"> </span>RAM<span class="_ _5"> </span>running<span class="_ _5"> </span>MacOS<span class="_ _3"> </span>10.5.</div><div class="t m0 x33 h5 ycd ff1 fs3 fc0 sc0 ls0 ws0">Benchmark<span class="_ _6"> </span>results.<span class="_ _8"> </span><span class="ff2">The<span class="_ _6"> </span>main<span class="_ _8"> </span>question<span class="_ _8"> </span>is<span class="_ _8"> </span>whether<span class="_ _8"> </span>programs</span></div><div class="t m0 x32 h5 yce ff2 fs3 fc0 sc0 ls0 ws0">run<span class="_ _5"> </span>faster<span class="_ _5"> </span>with<span class="_ _5"> </span>tracing.<span class="_ _5"> </span>For<span class="_ _5"> </span>this,<span class="_ _5"> </span>we<span class="_ _5"> </span>ran<span class="_ _5"> </span>the<span class="_ _5"> </span>standard<span class="_ _5"> </span>SunSpider<span class="_ _5"> </span>test</div><div class="t m0 x32 h5 ycf ff2 fs3 fc0 sc0 ls0 ws0">driv<span class="_ _2"></span>er<span class="_ _2"></span>,<span class="_ _6"> </span>which<span class="_ _8"> </span>starts<span class="_ _8"> </span>a<span class="_ _8"> </span>JavaScript<span class="_ _6"> </span>interpreter,<span class="_ _6"> </span>loads<span class="_ _8"> </span>and<span class="_ _8"> </span>runs<span class="_ _8"> </span>each</div><div class="t m0 x32 h5 yd0 ff2 fs3 fc0 sc0 ls0 ws0">program<span class="_ _6"> </span>once<span class="_ _6"> </span>for<span class="_ _6"> </span>warmup,<span class="_ _3"> </span>then<span class="_ _6"> </span>loads<span class="_ _6"> </span>and<span class="_ _6"> </span>runs<span class="_ _6"> </span>each<span class="_ _6"> </span>program<span class="_ _6"> </span>10</div><div class="t m0 x32 h5 yd1 ff2 fs3 fc0 sc0 ls0 ws0">times<span class="_ _3"> </span>and<span class="_ _5"> </span>reports<span class="_ _3"> </span>the<span class="_ _3"> </span>a<span class="_ _2"></span>v<span class="_ _2"></span>erage<span class="_ _3"> </span>time<span class="_ _5"> </span>taken<span class="_ _3"> </span>by<span class="_ _5"> </span>each.<span class="_ _3"> </span>W<span class="_ _b"></span>e<span class="_ _3"> </span>ran<span class="_ _5"> </span>4<span class="_ _3"> </span>differ<span class="_ _2"></span>-</div><div class="t m0 x32 h5 yd2 ff2 fs3 fc0 sc0 ls0 ws0">ent<span class="_ _3"> </span>conﬁgurations<span class="_ _5"> </span>for<span class="_ _3"> </span>comparison:<span class="_ _5"> </span>(a)<span class="_ _5"> </span>SpiderMonkey<span class="_ _2"></span>,<span class="_ _5"> </span>the<span class="_ _3"> </span>baseline</div><div class="t m0 x32 h5 yd3 ff2 fs3 fc0 sc0 ls0 ws0">interpreter<span class="_ _2"></span>,<span class="_ _5"> </span>(b)<span class="_ _3"> </span>T<span class="_ _2"></span>raceMonke<span class="_ _2"></span>y<span class="_ _b"></span>,<span class="_ _3"> </span>(d)<span class="_ _3"> </span>SquirrelFish<span class="_ _5"> </span>Extreme<span class="_ _3"> </span>(SFX),<span class="_ _5"> </span>the</div><div class="t m0 x32 h5 y94 ff2 fs3 fc0 sc0 ls0 ws0">call-threaded<span class="_ _6"> </span>JavaScript<span class="_ _6"> </span>interpreter<span class="_ _8"> </span>used<span class="_ _6"> </span>in<span class="_ _8"> </span>Apple’<span class="_ _2"></span>s<span class="_ _6"> </span>W<span class="_ _2"></span>ebKit,<span class="_ _6"> </span>and</div><div class="t m0 x32 h5 y95 ff2 fs3 fc0 sc0 ls0 ws0">(e)<span class="_ _5"> </span>V8,<span class="_ _5"> </span>the<span class="_ _3"> </span>method-compiling<span class="_ _5"> </span>Ja<span class="_ _2"></span>v<span class="_ _2"></span>aScript<span class="_ _5"> </span>VM<span class="_ _5"> </span>from<span class="_ _5"> </span>Google.</div><div class="t m0 x33 h5 y96 ff2 fs3 fc0 sc0 ls0 ws0">Figure<span class="_ _5"> </span>10<span class="_ _7"> </span>sho<span class="_ _2"></span>ws<span class="_ _7"> </span>the<span class="_ _5"> </span>relati<span class="_ _2"></span>v<span class="_ _2"></span>e<span class="_ _7"> </span>speedups<span class="_ _5"> </span>achie<span class="_ _2"></span>ved<span class="_ _7"> </span>by<span class="_ _5"> </span>tracing,<span class="_ _7"> </span>SFX,</div><div class="t m0 x32 h5 y97 ff2 fs3 fc0 sc0 ls0 ws0">and<span class="_ _5"> </span>V8<span class="_ _3"> </span>against<span class="_ _5"> </span>the<span class="_ _3"> </span>baseline<span class="_ _5"> </span>(SpiderMonkey).<span class="_ _5"> </span>T<span class="_ _2"></span>racing<span class="_ _5"> </span>achieves<span class="_ _5"> </span>the</div><div class="t m0 x32 h5 y98 ff2 fs3 fc0 sc0 ls0 ws0">best<span class="_ _5"> </span>speedups<span class="_ _3"> </span>in<span class="_ _5"> </span>inte<span class="_ _2"></span>ger-hea<span class="_ _2"></span>vy<span class="_ _5"> </span>benchmarks,<span class="_ _5"> </span>up<span class="_ _3"> </span>to<span class="_ _5"> </span>the<span class="_ _5"> </span>25x<span class="_ _5"> </span>speedup</div><div class="t m0 x32 h5 y99 ff2 fs3 fc0 sc0 ls0 ws0">on<span class="_ _5"> </span><span class="ff7">bitops-bitwise-and</span>.</div><div class="t m0 x33 h5 y9a ff2 fs3 fc0 sc0 ls0 ws0">T<span class="_ _2"></span>raceMonke<span class="_ _2"></span>y<span class="_ _d"> </span>is<span class="_ _d"> </span>the<span class="_ _d"> </span>fastest<span class="_ _d"> </span>VM<span class="_ _d"> </span>on<span class="_ _d"> </span>9<span class="_ _d"> </span>of<span class="_ _d"> </span>the<span class="_ _d"> </span>26<span class="_ _8"> </span>benchmarks</div><div class="t m0 x32 h5 y9b ff2 fs3 fc0 sc0 ls0 ws0">(<span class="ff7">3d-morph</span>,<span class="_ _1b"> </span><span class="ff7">bitops-3bit-bits-in-byte</span>,<span class="_ _e"> </span><span class="ff7">bitops-bitwise-</span></div><div class="t m0 x32 h5 y9c ff7 fs3 fc0 sc0 ls0 ws0">and<span class="ff2">,<span class="_ _5"> </span></span>crypto-sha1<span class="ff2">,<span class="_ _5"> </span></span>math-cordic<span class="ff2">,<span class="_ _5"> </span></span>math-partial-sums<span class="ff2">,<span class="_ _3"> </span></span>math-</div><div class="t m0 x32 h5 y9d ff7 fs3 fc0 sc0 ls0 ws0">spectral-norm<span class="ff2">,<span class="_ _d"> </span></span>string-base64<span class="ff2">,<span class="_ _1"> </span></span>string-validate-input<span class="ff2">).</span></div></div><div class="pi" data-data='{"ctm":[1.673203,0.000000,0.000000,1.673203,0.000000,0.000000]}'></div></div></div>
