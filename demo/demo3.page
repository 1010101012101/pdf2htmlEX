<div class="pd w0 h0"><div id="pf3" class="pf" data-page-no="3"><div class="pc pc3"><img class="bi" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABMgAAAYwCAIAAAAI8uQFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAe10lEQVR42uzawQnAMBADwSi4/5aVGuLzxzBTgn4LStsHAAAAdr0mAAAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAAAgLE0AAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACOWiaYS2IEAAC4SFsjnGwigwIAADDhCgsAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAISxMAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAABCWJgAAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAAMISAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAAGEJAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAgLAEAABCWAAAACEsAAACEJQAAAMISAAAA/lommEtiBAAAuEhbI5xsIoMCAAAw4QoLAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAgLAEAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAAAISwAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAACEJQAAAMISAAAAYQkAAICwBAAAQFgCAACAsAQAAEBYAgAAICwBAAAQlgAAACAsAQAAEJYAAAAISwAAAIQlAAAACEsAAACEJQAAAMISAAAAYQkAAADCEgAAAGEJAACAsAQAAEBYAgAAICwBAABAWAIAACAsAQAAEJYAAAAISwAAABCWAAAACEsAAACEJQAAAMISAAAAhCUAAADCEgAAAGEJAACAsAQAAABhCQAAgLAEAABAWAIAACAsAQAAQFgCAAAgLAEAABCWAAAACEsAAACEJQAAAAhLAAAAhCUAAADCEgAAAGEJAAAAwhIAAABhCQAAgLAEAABAWAIAAICwBAAAQFgCAAAgLAEAABCWAAAAICwBAAAQlgAAAAhLAAAAhCUAAADCEgAAAIQlAAAAwhIAAABhCQAAgLAEAAAAYQkAAICwBAAAQFgCAAAgLAEAAEBYAgAAICwBAAAQlgAAAAhLAAAAEJYAAAAISwAAAIQlAAAAwhIAAOBrv45pAAAAAAT1b20PBxH8xFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGUgIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMZSAgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAFsBooIbWUz46vYAAAAASUVORK5CYII="/><div class="t m0 xd ha y92 ff7 fs3 fc0 sc0 ls0 ws16">v0 := ld state[748]<span class="_ _d"> </span>// load primes from the trace activation record</div><div class="t m0 x32 ha y93 ff7 fs3 fc0 sc0 ls0 ws16">st sp[0], v0<span class="_ _10"> </span>// store primes to interpreter stack</div><div class="t m0 xd ha y94 ff7 fs3 fc0 sc0 ls0 ws16">v1 := ld state[764]<span class="_ _d"> </span>// load k from the trace activation record</div><div class="t m0 xd ha y95 ff7 fs3 fc0 sc0 ls0 ws16">v2 := i2f(v1)<span class="_ _11"> </span>// convert k from int to double</div><div class="t m0 x32 ha y96 ff7 fs3 fc0 sc0 ls0 ws16">st sp[8], v1<span class="_ _10"> </span>// store k to interpreter stack</div><div class="t m0 x32 ha y97 ff7 fs3 fc0 sc0 ls0 ws16">st sp[16], 0<span class="_ _10"> </span>// store false to interpreter stack</div><div class="t m0 xd ha yc7 ff7 fs3 fc0 sc0 ls0 ws16">v3 := ld v0[4]<span class="_ _12"> </span>// load class word for primes</div><div class="t m0 xd ha yc8 ff7 fs3 fc0 sc0 ls0 ws16">v4 := and v3, -4<span class="_ _13"> </span>// mask out object class tag for primes</div><div class="t m0 xd ha yc9 ff7 fs3 fc0 sc0 ls0 ws16">v5 := eq v4, Array<span class="_ _10"> </span>// test whether primes is an array</div><div class="t m0 x32 ha yca ff7 fs3 fc0 sc0 ls0 ws16">xf v5<span class="_ _14"> </span>// side exit if v5 is false</div><div class="t m0 xd ha ycb ff7 fs3 fc0 sc0 ls0 ws16">v6 := js_Array_set(v0, v2, false)<span class="_ _15"> </span>// call function to set array element</div><div class="t m0 xd ha ycc ff7 fs3 fc0 sc0 ls0 ws16">v7 := eq v6, 0<span class="_ _12"> </span>// test return value from call</div><div class="t m0 x32 ha ycd ff7 fs3 fc0 sc0 ls0 ws16">xt v7<span class="_ _14"> </span>// side exit if js_Array_set returns false.</div><div class="t m0 xd h3 yce ff1 fs3 fc0 sc0 ls0 ws8">Figure<span class="_ _7"> </span>3.<span class="_ _a"> </span>LIR snippet<span class="_ _7"> </span>for<span class="_ _7"> </span>sample<span class="_ _7"> </span>pr<span class="_ _1"></span>ogram.<span class="_ _7"> </span><span class="ff2">This is<span class="_ _7"> </span>the<span class="_ _7"> </span>LIR<span class="_ _7"> </span>recorded<span class="_ _7"> </span>for<span class="_ _7"> </span>line<span class="_ _7"> </span>5 of<span class="_ _7"> </span>the<span class="_ _7"> </span>sample<span class="_ _7"> </span>program<span class="_ _7"> </span>in<span class="_ _7"> </span>Figure<span class="_ _7"> </span>1. The<span class="_ _7"> </span>LIR<span class="_ _7"> </span>encodes</span></div><div class="t m0 xd h3 ycf ff2 fs3 fc0 sc0 ls0 ws5">the semantics in SSA form using temporary v<span class="_ _1"></span>ariables. The LIR also encodes all the stores that the interpreter would do to<span class="_ _6"> </span>its data stack.</div><div class="t m0 xd h3 y9 ff2 fs3 fc0 sc0 ls0 ws6">Sometimes these<span class="_ _3"> </span>stores can be<span class="_ _3"> </span>optimized away<span class="_ _3"> </span>as the stack<span class="_ _3"> </span>locations are<span class="_ _5"> </span>liv<span class="_ _1"></span>e<span class="_ _5"> </span>only on<span class="_ _3"> </span>exits to<span class="_ _3"> </span>the interpreter<span class="_ _1"></span>.<span class="_ _3"> </span>Finally<span class="_ _1"></span>,<span class="_ _3"> </span>the LIR records<span class="_ _3"> </span>guards</div><div class="t m0 xd h3 ya ff2 fs3 fc0 sc0 ls0 ws4">and side exits to v<span class="_ _1"></span>erify the assumptions made in this recording: that <span class="ff7">primes </span>is an array and that the call to set its element succeeds.</div><div class="t m0 xd ha yd0 ff7 fs3 fc0 sc0 ls0 ws16">mov edx, ebx(748)<span class="_ _10"> </span>// load primes from the trace activation record</div><div class="t m0 xd ha yd1 ff7 fs3 fc0 sc0 ls0 ws16">mov edi(0), edx<span class="_ _13"> </span>// (*) store primes to interpreter stack</div><div class="t m0 xd ha yd2 ff7 fs3 fc0 sc0 ls0 ws16">mov esi, ebx(764)<span class="_ _10"> </span>// load k from the trace activation record</div><div class="t m0 xd ha yd3 ff7 fs3 fc0 sc0 ls0 ws16">mov edi(8), esi<span class="_ _13"> </span>// (*) store k to interpreter stack</div><div class="t m0 xd ha yd4 ff7 fs3 fc0 sc0 ls0 ws16">mov edi(16), 0<span class="_ _16"> </span>// (*) store false to interpreter stack</div><div class="t m0 xd ha yd5 ff7 fs3 fc0 sc0 ls0 ws16">mov eax, edx(4)<span class="_ _13"> </span>// (*) load object class word for primes</div><div class="t m0 xd ha yd6 ff7 fs3 fc0 sc0 ls0 ws16">and eax, -4<span class="_ _17"> </span>// (*) mask out object class tag for primes</div><div class="t m0 xd ha yd7 ff7 fs3 fc0 sc0 ls0 ws16">cmp eax, Array<span class="_ _16"> </span>// (*) test whether primes is an array</div><div class="t m0 xd ha yd8 ff7 fs3 fc0 sc0 ls0 ws16">jne side_exit_1<span class="_ _13"> </span>// (*) side exit if primes is not an array</div><div class="t m0 xd ha yd9 ff7 fs3 fc0 sc0 ls0 ws16">sub esp, 8<span class="_ _14"> </span>// bump stack for call alignment convention</div><div class="t m0 xd ha yda ff7 fs3 fc0 sc0 ls0 ws16">push false<span class="_ _14"> </span>// push last argument for call</div><div class="t m0 xd ha ydb ff7 fs3 fc0 sc0 ls0 ws16">push esi<span class="_ _18"> </span>// push first argument for call</div><div class="t m0 xd ha ydc ff7 fs3 fc0 sc0 ls0 ws16">call js_Array_set<span class="_ _10"> </span>// call function to set array element</div><div class="t m0 xd ha ydd ff7 fs3 fc0 sc0 ls0 ws16">add esp, 8<span class="_ _14"> </span>// clean up extra stack space</div><div class="t m0 xd ha yde ff7 fs3 fc0 sc0 ls0 ws16">mov ecx, ebx<span class="_ _11"> </span>// (*) created by register allocator</div><div class="t m0 xd ha ydf ff7 fs3 fc0 sc0 ls0 ws16">test eax, eax<span class="_ _12"> </span>// (*) test return value of js_Array_set</div><div class="t m0 xd ha ye0 ff7 fs3 fc0 sc0 ls0 ws16">je side_exit_2<span class="_ _16"> </span>// (*) side exit if call failed</div><div class="t m0 xd ha ye1 ff7 fs3 fc0 sc0 ls0">...</div><div class="t m0 xd ha ye2 ff7 fs3 fc0 sc0 ls0">side_exit_1:</div><div class="t m0 xd ha ye3 ff7 fs3 fc0 sc0 ls0 ws16">mov ecx, ebp(-4)<span class="_ _19"> </span>// restore ecx</div><div class="t m0 xd ha ye4 ff7 fs3 fc0 sc0 ls0 ws16">mov esp, ebp<span class="_ _11"> </span>// restore esp</div><div class="t m0 xd ha ye5 ff7 fs3 fc0 sc0 ls0 ws16">jmp epilog<span class="_ _14"> </span>// jump to ret statement</div><div class="t m0 xd h3 ye6 ff1 fs3 fc0 sc0 ls0 ws4">Figure<span class="_ _3"> </span>4.<span class="_ _a"> </span>x86 snippet<span class="_ _3"> </span>for<span class="_ _3"> </span>sample<span class="_ _3"> </span>program.<span class="_ _3"> </span><span class="ff2">This<span class="_ _3"> </span>is<span class="_ _3"> </span>the<span class="_ _3"> </span>x86 code<span class="_ _3"> </span>compiled<span class="_ _3"> </span>from<span class="_ _3"> </span>the<span class="_ _3"> </span>LIR snippet<span class="_ _3"> </span>in<span class="_ _3"> </span>Figure<span class="_ _3"> </span>3.<span class="_ _3"> </span>Most LIR<span class="_ _3"> </span>instructions<span class="_ _3"> </span>compile</span></div><div class="t m0 xd h3 ye7 ff2 fs3 fc0 sc0 ls0 ws5">to a<span class="_ _6"> </span>single x86<span class="_ _6"> </span>instruction. Instructions mark<span class="_ _1"></span>ed with<span class="_ _6"> </span><span class="ff7">(*) </span>would<span class="_ _6"> </span>be omitted by<span class="_ _6"> </span>an idealized<span class="_ _6"> </span>compiler that kne<span class="_ _1"></span>w<span class="_ _6"> </span>that none<span class="_ _6"> </span>of the side<span class="_ _6"> </span>exits</div><div class="t m0 xd h3 ye8 ff2 fs3 fc0 sc0 ls0 ws6">would e<span class="_ _1"></span>v<span class="_ _1"></span>er be tak<span class="_ _1"></span>en. The<span class="_ _5"> </span>17 instructions generated<span class="_ _3"> </span>by the compiler compare f<span class="_ _1"></span>av<span class="_ _1"></span>orably<span class="_ _5"> </span>with the 100+<span class="_ _3"> </span>instructions that the interpreter w<span class="_ _1"></span>ould</div><div class="t m0 xd h3 ye9 ff2 fs3 fc0 sc0 ls0 ws4">ex<span class="_ _1"></span>ecute for the same code snippet, including 4 indirect jumps.</div><div class="t m0 x11 h3 yea ff1 fs3 fc0 sc0 ls0 ws12">i=2. <span class="ff2 wsa">This is the ﬁrst iteration of the outer loop. The loop on</span></div><div class="t m0 xd h3 yeb ff2 fs3 fc0 sc0 ls0 ws6">lines 4-5 becomes<span class="_ _3"> </span>hot on its second iteration, so<span class="_ _3"> </span>TraceMonke<span class="_ _1"></span>y en-</div><div class="t m0 xd h3 yec ff2 fs3 fc0 sc0 ls0 ws8">ters recording<span class="_ _7"> </span>mode on<span class="_ _7"> </span>line 4.<span class="_ _7"> </span>In recording<span class="_ _7"> </span>mode, T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey</div><div class="t m0 xd h3 yed ff2 fs3 fc0 sc0 ls0 ws6">records the<span class="_ _3"> </span>code along the<span class="_ _3"> </span>trace in a lo<span class="_ _1"></span>w-le<span class="_ _1"></span>v<span class="_ _1"></span>el compiler<span class="_ _3"> </span>intermedi-</div><div class="t m0 xd h3 yee ff2 fs3 fc0 sc0 ls0 ws6">ate representation<span class="_ _3"> </span>we call <span class="ffa ws1">LIR</span>.<span class="_ _5"> </span>The LIR<span class="_ _3"> </span>trace encodes all<span class="_ _5"> </span>the oper<span class="_ _1"></span>-</div><div class="t m0 xd h3 yef ff2 fs3 fc0 sc0 ls0 ws6">ations performed and<span class="_ _5"> </span>the types of all<span class="_ _3"> </span>operands. The LIR trace also</div><div class="t m0 xd h3 yf0 ff2 fs3 fc0 sc0 ls0 ws2">encodes <span class="ffa ws1">guar<span class="_ _1"></span>ds<span class="ff2 ws2">,<span class="_ _5"> </span>which are checks<span class="_ _6"> </span>that v<span class="_ _1"></span>erify that<span class="_ _5"> </span>the control ﬂo<span class="_ _1"></span>w</span></span></div><div class="t m0 xd h3 yf1 ff2 fs3 fc0 sc0 ls0 ws8">and types are identical to<span class="_ _7"> </span>those observed<span class="_ _7"> </span>during trace recording.</div><div class="t m0 xd h3 yf2 ff2 fs3 fc0 sc0 ls0 ws5">Thus, on<span class="_ _6"> </span>later e<span class="_ _1"></span>xecutions,<span class="_ _6"> </span>if and only<span class="_ _6"> </span>if all<span class="_ _6"> </span>guards are<span class="_ _6"> </span>passed, the</div><div class="t m0 xd h3 yf3 ff2 fs3 fc0 sc0 ls0 ws4">trace has the required program semantics.</div><div class="t m0 x11 h3 yf4 ff2 fs3 fc0 sc0 ls0 ws10">T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y stops<span class="_ _b"> </span>recording when e<span class="_ _1"></span>xecution<span class="_ _b"> </span>returns to the</div><div class="t m0 xd h3 yf5 ff2 fs3 fc0 sc0 ls0 ws2">loop header<span class="_ _5"> </span>or exits<span class="_ _5"> </span>the loop.<span class="_ _5"> </span>In this case,<span class="_ _5"> </span>execution<span class="_ _5"> </span>returns to<span class="_ _6"> </span>the</div><div class="t m0 xd h3 yf6 ff2 fs3 fc0 sc0 ls0 ws4">loop header on line 4.</div><div class="t m0 x11 h3 yf7 ff2 fs3 fc0 sc0 ls0 ws6">After recording is ﬁnished, T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y compiles the trace to</div><div class="t m0 xd h3 yf8 ff2 fs3 fc0 sc0 ls0 ws5">nativ<span class="_ _1"></span>e code using<span class="_ _6"> </span>the recorded type information for optimization.</div><div class="t m0 xd h3 yf9 ff2 fs3 fc0 sc0 ls0 ws10">The result<span class="_ _b"> </span>is a<span class="_ _a"> </span>nati<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _b"> </span>code fragment that<span class="_ _b"> </span>can be<span class="_ _a"> </span>entered<span class="_ _b"> </span>if the</div><div class="t m0 xf h3 yea ff2 fs3 fc0 sc0 ls0 ws2">interpreter PC<span class="_ _5"> </span>and the<span class="_ _5"> </span>types of v<span class="_ _1"></span>alues<span class="_ _5"> </span>match those observ<span class="_ _1"></span>ed<span class="_ _5"> </span>when</div><div class="t m0 xf h3 yeb ff2 fs3 fc0 sc0 ls0 wsa">trace recording was started. The ﬁrst trace in our example, <span class="fff ws1">T<span class="ff8 fs4 v2">45<span class="_ _2"></span></span></span>,</div><div class="t m0 xf h3 yec ff2 fs3 fc0 sc0 ls0 ws4">cov<span class="_ _1"></span>ers lines 4<span class="_ _3"> </span>and 5. This<span class="_ _3"> </span>trace can<span class="_ _3"> </span>be entered if<span class="_ _3"> </span>the PC is<span class="_ _3"> </span>at line 4,</div><div class="t m0 xf h3 yed ff7 fs3 fc0 sc0 ls6">i<span class="ff2 ls0 ws4">and </span>k<span class="ff2 ls0 ws4">are<span class="_ _3"> </span>integers,<span class="_ _3"> </span>and <span class="ff7">primes<span class="_ _3"> </span></span>is<span class="_ _3"> </span>an object.<span class="_ _3"> </span>After compiling<span class="_ _3"> </span><span class="fff ws1">T<span class="ff8 fs4 v2">45<span class="_ _2"></span></span></span>,</span></div><div class="t m0 xf h3 yee ff2 fs3 fc0 sc0 ls0 ws4">T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y returns to the interpreter and loops back to line 1.</div><div class="t m0 x10 h3 yef ff1 fs3 fc0 sc0 ls0 ws14">i=3. <span class="ff2">No<span class="_ _1"></span>w the<span class="_ _7"> </span>loop<span class="_ _6"> </span>header at line 1 has<span class="_ _7"> </span>become<span class="_ _6"> </span>hot, so T<span class="_ _1"></span>race-</span></div><div class="t m0 xf h3 yf0 ff2 fs3 fc0 sc0 ls0 wsa">Monkey starts<span class="_ _7"> </span>recording. When recording reaches line 4, Trace-</div><div class="t m0 xf h3 yf1 ff2 fs3 fc0 sc0 ls0 ws5">Monkey<span class="_ _6"> </span>observes<span class="_ _6"> </span>that it has<span class="_ _6"> </span>reached an inner<span class="_ _6"> </span>loop header<span class="_ _6"> </span>that al-</div><div class="t m0 xf h3 yf2 ff2 fs3 fc0 sc0 ls0 ws14">ready has<span class="_ _7"> </span>a<span class="_ _7"> </span>compiled<span class="_ _6"> </span>trace, so T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey attempts<span class="_ _7"> </span>to<span class="_ _6"> </span>nest the</div><div class="t m0 xf h3 yf3 ff2 fs3 fc0 sc0 ls0 ws6">inner loop<span class="_ _3"> </span>inside the current<span class="_ _3"> </span>trace. The ﬁrst<span class="_ _3"> </span>step is<span class="_ _5"> </span>to call<span class="_ _3"> </span>the inner</div><div class="t m0 xf h3 yf4 ff2 fs3 fc0 sc0 ls0 wsd">trace as a<span class="_ _9"> </span>subroutine. This ex<span class="_ _1"></span>ecutes the loop<span class="_ _9"> </span>on line 4 to completion</div><div class="t m0 xf h3 yf5 ff2 fs3 fc0 sc0 ls0 ws6">and then<span class="_ _3"> </span>returns to the<span class="_ _3"> </span>recorder<span class="_ _1"></span>. T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _3"> </span>veriﬁes that<span class="_ _3"> </span>the call</div><div class="t m0 xf h3 yf6 ff2 fs3 fc0 sc0 ls0 ws4">was<span class="_ _3"> </span>successful and<span class="_ _3"> </span>then records<span class="_ _3"> </span>the call<span class="_ _3"> </span>to the<span class="_ _3"> </span>inner trace<span class="_ _3"> </span>as part<span class="_ _3"> </span>of</div><div class="t m0 xf h3 yf7 ff2 fs3 fc0 sc0 ls0 ws2">the current<span class="_ _5"> </span>trace. Recording<span class="_ _5"> </span>continues until<span class="_ _5"> </span>execution<span class="_ _5"> </span>reaches line</div><div class="t m0 xf h3 yf8 ff2 fs3 fc0 sc0 ls0 ws5">1, and at which<span class="_ _6"> </span>point TraceMonk<span class="_ _1"></span>ey ﬁnishes<span class="_ _6"> </span>and compiles a trace</div><div class="t m0 xf h3 yf9 ff2 fs3 fc0 sc0 ls0 ws4">for the outer loop, <span class="fff ws1">T<span class="ff8 fs4 v2">16<span class="_ _2"></span></span></span>.</div></div><div class="pi" data-data='{"ctm":[1.673203,0.000000,0.000000,1.673203,0.000000,0.000000]}'></div></div></div>
