<div class="pd w0 h0"><div id="pf4" class="pf" data-page-no="4"><div class="pc pc4"><img class="bi" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABMgAAAYwCAIAAAAI8uQFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAeuklEQVR42uzXMQEAAAjDMMC/580DdyKhXzfJAAAAwNdJAAAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWEoAAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAMBYSgAAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFhKAAAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWEoAAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEqDt1yEBAAAAgKD/rz1hhAk2AQAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAjKUEAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAABhLAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAIwlAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAABgLAEAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAAAwlgAAABhLAAAAjCUAAADGEgAAAGMJAAAAxhIAAABjCQAAgLEEAADAWAIAAICxBAAAwFgCAABgLAEAADCWAAAAYCwBAAAwlgAAABhLAAAAjCUAAAAYSwAAAIwlAAAAxhIAAABjCQAAgLEEAAAAYwkAAICxBAAAwFgCAABgLAEAAMBYAgAAYCwBAAAwlgAAABhLAAAAMJYAAAAYSwAAAIwlAAAAxhIAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAADGEgAAAGMJAACAsQQAAMBYAgAAgLEEAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAADGEgAAAGMJAACAsQQAAABjCQAAgLEEAADAWAIAAGAsAQAAwFgCAABgLAEAADCWAAAAGEsAAACMpQQAAAAYSwAAAIwlAAAAxhIAAABjCQAAAMYSAAAAYwkAAICxBAAAwFgCAACAsQQAAMBYAgAAYCwBAAAwlgAAAGAsAQAAMJYAAAAYSwAAAIwlAAAAGEsAAACMJQAAAMYSAAAAYwkAAICxBAAAAGMJAACAsQQAAMBYAgAAYCwBAADAWAIAAGAsAQAAMJYAAAAYSwAAADCWAAAAGEsAAACMJQAAAMYSAAAAjCUAAACPAKB3D11PBfOFAAAAAElFTkSuQmCC"/><div class="t m0 x11 h3 y53 ff1 fs3 fc0 sc0 ls0 ws4">i=4. <span class="ff2">On<span class="_ _3"> </span>this<span class="_ _3"> </span>iteration,<span class="_ _3"> </span>T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y<span class="_ _3"> </span>calls<span class="_ _3"> </span><span class="fff ws1">T<span class="ff8 fs4 v2">16<span class="_ _2"></span></span></span>. Because<span class="_ _3"> </span><span class="ff7 ws1">i=4</span>,<span class="_ _3"> </span>the</span></div><div class="t m0 xd h3 y54 ff7 fs3 fc0 sc0 ls0 ws5">if <span class="ff2">statement on line 2 is tak<span class="_ _1"></span>en. This branch was not tak<span class="_ _1"></span>en in the</span></div><div class="t m0 xd h3 y55 ff2 fs3 fc0 sc0 ls0 ws4">original trace,<span class="_ _3"> </span>so this<span class="_ _3"> </span>causes<span class="_ _3"> </span><span class="fff ws1">T<span class="ff8 fs4 ws2 v2">16 </span></span>to<span class="_ _3"> </span>fail<span class="_ _3"> </span>a guard<span class="_ _3"> </span>and tak<span class="_ _1"></span>e a<span class="_ _3"> </span>side e<span class="_ _1"></span>xit.</div><div class="t m0 xd h3 y56 ff2 fs3 fc0 sc0 ls0 ws2">The exit is not yet hot, so T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _6"> </span>returns to the interpreter<span class="_ _1"></span>,</div><div class="t m0 xd h3 y57 ff2 fs3 fc0 sc0 ls0 ws4">which ex<span class="_ _1"></span>ecutes the continue statement.</div><div class="t m0 x11 h3 y58 ff1 fs3 fc0 sc0 ls0 ws4">i=5. <span class="ff2">T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _3"> </span>calls<span class="_ _3"> </span><span class="fff ws1">T<span class="ff8 fs4 v2">16<span class="_ _2"></span></span></span>,<span class="_ _3"> </span>which in<span class="_ _3"> </span>turn<span class="_ _3"> </span>calls<span class="_ _3"> </span>the<span class="_ _3"> </span>nested trace</span></div><div class="t m0 xd h3 y59 fff fs3 fc0 sc0 ls0 ws1">T<span class="ff8 fs4 v2">45<span class="_ _2"></span></span><span class="ff2 ls7">.</span>T<span class="ff8 fs4 ws12 v2">16 </span><span class="ff2 ws8">loops<span class="_ _7"> </span>back to<span class="_ _7"> </span>its<span class="_ _7"> </span>o<span class="_ _1"></span>wn<span class="_ _7"> </span>header<span class="_ _1"></span>,<span class="_ _7"> </span>starting<span class="_ _7"> </span>the ne<span class="_ _1"></span>xt<span class="_ _7"> </span>iteration</span></div><div class="t m0 xd h3 y5a ff2 fs3 fc0 sc0 ls0 ws4">without ev<span class="_ _1"></span>er returning to the monitor<span class="_ _1"></span>.</div><div class="t m0 x11 h3 y5b ff1 fs3 fc0 sc0 ls0 ws4">i=6. <span class="ff2">On this iteration,<span class="_ _3"> </span>the side exit<span class="_ _3"> </span>on line 2 is<span class="_ _3"> </span>taken again. This</span></div><div class="t m0 xd h3 y5c ff2 fs3 fc0 sc0 ls0 ws8">time, the<span class="_ _7"> </span>side<span class="_ _7"> </span>exit<span class="_ _7"> </span>becomes<span class="_ _7"> </span>hot,<span class="_ _7"> </span>so<span class="_ _7"> </span>a trace<span class="_ _7"> </span><span class="fff ws1">T<span class="ff8 fs4 v2">23<span class="ff10">,<span class="ff8 ls8">1</span></span></span></span>is<span class="_ _7"> </span>recorded<span class="_ _7"> </span>that</div><div class="t m0 xd h3 y5d ff2 fs3 fc0 sc0 ls0 ws6">cov<span class="_ _1"></span>ers line<span class="_ _3"> </span>3 and returns<span class="_ _5"> </span>to the<span class="_ _3"> </span>loop header<span class="_ _1"></span>.<span class="_ _3"> </span>Thus, the end<span class="_ _3"> </span>of <span class="fff ws1">T<span class="ff8 fs4 v2">23<span class="ff10">,</span>1</span></span></div><div class="t m0 xd h3 y5e ff2 fs3 fc0 sc0 ls0 ws5">jumps directly<span class="_ _6"> </span>to the start of<span class="_ _6"> </span><span class="fff ws1">T<span class="ff8 fs4 v2">16<span class="_ _2"></span></span></span>. The side<span class="_ _6"> </span>exit is patched<span class="_ _6"> </span>so that</div><div class="t m0 xd h3 y5f ff2 fs3 fc0 sc0 ls0 ws4">on future iterations, it jumps directly to <span class="fff ws1">T<span class="ff8 fs4 v2">23<span class="ff10">,<span class="ff8 ls1 ws1c">1</span></span></span></span>.</div><div class="t m0 x11 h3 y60 ff2 fs3 fc0 sc0 ls0 ws7">At this point, T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey has compiled enough<span class="_ _9"> </span>traces to cov<span class="_ _1"></span>er</div><div class="t m0 xd h3 y61 ff2 fs3 fc0 sc0 ls0 ws12">the entire<span class="_ _b"> </span>nested<span class="_ _b"> </span>loop st<span class="_ _1"></span>ructure, so<span class="_ _b"> </span>the rest<span class="_ _7"> </span>of the program runs</div><div class="t m0 xd h3 y62 ff2 fs3 fc0 sc0 ls0 ws4">entirely as nativ<span class="_ _1"></span>e code.</div><div class="t m0 xd h6 yfa ff1 fs1 fc0 sc0 ls0 ws2">3.<span class="_ _f"> </span>T<span class="_ _4"></span>race T<span class="_ _4"></span>rees</div><div class="t m0 xd h3 yfb ff2 fs3 fc0 sc0 ls0 ws8">In this section, we describe traces,<span class="_ _7"> </span>trace trees, and ho<span class="_ _1"></span>w the<span class="_ _1"></span>y are</div><div class="t m0 xd h3 yfc ff2 fs3 fc0 sc0 ls0 ws4">formed at run time. Although<span class="_ _3"> </span>our techniques apply to an<span class="_ _1"></span>y dynamic</div><div class="t m0 xd h3 yfd ff2 fs3 fc0 sc0 ls0 ws8">language interpreter<span class="_ _1"></span>,<span class="_ _7"> </span>we<span class="_ _7"> </span>will<span class="_ _7"> </span>describe<span class="_ _7"> </span>them<span class="_ _7"> </span>assuming<span class="_ _7"> </span>a<span class="_ _7"> </span>bytecode</div><div class="t m0 xd h3 yfe ff2 fs3 fc0 sc0 ls0 ws4">interpreter to keep the exposition simple.</div><div class="t m0 xd ha yff ff1 fs3 fc0 sc0 ls0 ws1d">3.1 T<span class="_ _4"></span>races</div><div class="t m0 xd h3 y100 ff2 fs3 fc0 sc0 ls7 ws1e">A<span class="ffa ls0 ws14">tr<span class="_ _1"></span>ace <span class="ff2">is simply a<span class="_ _7"> </span>program<span class="_ _7"> </span>path,<span class="_ _6"> </span>which may cross function call</span></span></div><div class="t m0 xd h3 y101 ff2 fs3 fc0 sc0 ls0 ws2">boundaries. T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _5"> </span>focuses on<span class="_ _5"> </span><span class="ffa">loop traces</span>,<span class="_ _5"> </span>that originate<span class="_ _5"> </span>at</div><div class="t m0 xd h3 y102 ff2 fs3 fc0 sc0 ls0 ws2">a loop<span class="_ _5"> </span>edge and represent<span class="_ _5"> </span>a single<span class="_ _5"> </span>iteration through the<span class="_ _5"> </span>associated</div><div class="t m0 xd h3 y103 ff2 fs3 fc0 sc0 ls0">loop.</div><div class="t m0 x11 h3 y104 ff2 fs3 fc0 sc0 ls0 ws8">Similar to an e<span class="_ _1"></span>xtended basic block,<span class="_ _7"> </span>a trace is only<span class="_ _7"> </span>entered at</div><div class="t m0 xd h3 y105 ff2 fs3 fc0 sc0 ls0 ws2">the top,<span class="_ _5"> </span>but<span class="_ _5"> </span>may hav<span class="_ _1"></span>e man<span class="_ _1"></span>y<span class="_ _5"> </span>exits. In<span class="_ _5"> </span>contrast to an<span class="_ _5"> </span>extended basic</div><div class="t m0 xd h3 y106 ff2 fs3 fc0 sc0 ls0 wsa">block, a trace<span class="_ _7"> </span>can contain join nodes.<span class="_ _7"> </span>Since a trace alw<span class="_ _1"></span>ays only</div><div class="t m0 xd h3 y107 ff2 fs3 fc0 sc0 ls0 wsd">follows<span class="_ _9"> </span>one single path through the original program,<span class="_ _9"> </span>howev<span class="_ _1"></span>er<span class="_ _1"></span>, join</div><div class="t m0 xd h3 y108 ff2 fs3 fc0 sc0 ls0 ws12">nodes are<span class="_ _b"> </span>not<span class="_ _b"> </span>recognizable as<span class="_ _7"> </span>such in a trace<span class="_ _b"> </span>and<span class="_ _b"> </span>ha<span class="_ _1"></span>ve<span class="_ _b"> </span>a<span class="_ _b"> </span>single</div><div class="t m0 xd h3 y109 ff2 fs3 fc0 sc0 ls0 ws4">predecessor node like regular nodes.</div><div class="t m0 x11 h3 y10a ff2 fs3 fc0 sc0 ls9">A<span class="ffa ls0 ws4">typed trace <span class="ff2">is a trace annotated with<span class="_ _3"> </span>a type for ev<span class="_ _1"></span>ery v<span class="_ _1"></span>ariable</span></span></div><div class="t m0 xd h3 y10b ff2 fs3 fc0 sc0 ls0 wsd">(including temporaries)<span class="_ _3"> </span>on<span class="_ _9"> </span>the trace. A<span class="_ _3"> </span>typed<span class="_ _9"> </span>trace also has an<span class="_ _9"> </span>entry</div><div class="t m0 xd h3 y10c ffa fs3 fc0 sc0 ls0 ws2">type map <span class="ff2">gi<span class="_ _1"></span>ving the required types for v<span class="_ _1"></span>ariables used on the trace</span></div><div class="t m0 xd h3 y10d ff2 fs3 fc0 sc0 ls0 wsd">before they are deﬁned. F<span class="_ _1"></span>or example, a trace could ha<span class="_ _1"></span>v<span class="_ _1"></span>e a type map</div><div class="t m0 xd h3 y10e ff7 fs3 fc0 sc0 ls0 ws16">(x: int, b: boolean)<span class="ff2 ws5">, meaning<span class="_ _6"> </span>that the trace may<span class="_ _6"> </span>be entered</span></div><div class="t m0 xd h3 y10f ff2 fs3 fc0 sc0 ls0 ws6">only if<span class="_ _5"> </span>the v<span class="_ _1"></span>alue of<span class="_ _3"> </span>the variable<span class="_ _3"> </span><span class="ff7 lsa">x</span>is of type <span class="ff7">int<span class="_ _5"> </span></span>and the v<span class="_ _1"></span>alue<span class="_ _3"> </span>of <span class="ff7">b</span></div><div class="t m0 xd h3 y110 ff2 fs3 fc0 sc0 ls0 ws6">is of type <span class="ff7 ws1">boolean</span>.<span class="_ _3"> </span>The entry type map is much lik<span class="_ _1"></span>e the signature</div><div class="t m0 xd h3 y111 ff2 fs3 fc0 sc0 ls0 ws4">of a function.</div><div class="t m0 x11 h3 y112 ff2 fs3 fc0 sc0 ls0 ws8">In this paper<span class="_ _1"></span>,<span class="_ _7"> </span>we only discuss<span class="_ _7"> </span>typed loop traces, and<span class="_ _7"> </span>we will</div><div class="t m0 xd h3 y113 ff2 fs3 fc0 sc0 ls0 ws14">refer to them simply as “traces”. The ke<span class="_ _1"></span>y property of typed loop</div><div class="t m0 xd h3 y114 ff2 fs3 fc0 sc0 ls0 ws6">traces is that the<span class="_ _1"></span>y can be<span class="_ _3"> </span>compiled to efﬁcient machine<span class="_ _3"> </span>code using</div><div class="t m0 xd h3 y115 ff2 fs3 fc0 sc0 ls0 ws4">the same techniques used for typed languages.</div><div class="t m0 x11 h3 ybf ff2 fs3 fc0 sc0 ls0 ws6">In T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _4"></span>, traces are recorded<span class="_ _3"> </span>in trace-ﬂav<span class="_ _1"></span>ored SSA<span class="_ _5"> </span><span class="ffa">LIR</span></div><div class="t m0 xd h3 yc0 ff2 fs3 fc0 sc0 ls0 ws14">(low-le<span class="_ _1"></span>v<span class="_ _1"></span>el intermediate representation).<span class="_ _7"> </span>In<span class="_ _7"> </span>trace-ﬂa<span class="_ _1"></span>v<span class="_ _1"></span>ored SSA<span class="_ _7"> </span>(or</div><div class="t m0 xd h3 yc1 ff2 fs3 fc0 sc0 ls0 ws2">TSSA), phi<span class="_ _5"> </span>nodes appear<span class="_ _5"> </span>only at<span class="_ _5"> </span>the entry<span class="_ _5"> </span>point, which<span class="_ _5"> </span>is reached</div><div class="t m0 xd h3 yc2 ff2 fs3 fc0 sc0 ls0 wsa">both on entry<span class="_ _7"> </span>and via loop<span class="_ _7"> </span>edges. The important LIR<span class="_ _7"> </span>primitives</div><div class="t m0 xd h3 y116 ff2 fs3 fc0 sc0 ls0 ws0">are constant<span class="_ _a"> </span>v<span class="_ _1"></span>alues, memory<span class="_ _a"> </span>loads and<span class="_ _a"> </span>stores (by<span class="_ _a"> </span>address and</div><div class="t m0 xd h3 yc4 ff2 fs3 fc0 sc0 ls0 wsa">offset),<span class="_ _7"> </span>integer operators,<span class="_ _7"> </span>ﬂoating-point operators, function<span class="_ _7"> </span>calls,</div><div class="t m0 xd h3 yc5 ff2 fs3 fc0 sc0 ls0 ws6">and conditional exits. T<span class="_ _4"></span>ype con<span class="_ _1"></span>versions, such as inte<span class="_ _1"></span>ger to double,</div><div class="t m0 xd h3 yc6 ff2 fs3 fc0 sc0 ls0 ws10">are represented<span class="_ _b"> </span>by function calls.<span class="_ _a"> </span>This<span class="_ _b"> </span>makes the<span class="_ _b"> </span>LIR used by</div><div class="t m0 xd h3 y88 ff2 fs3 fc0 sc0 ls0 wsa">T<span class="_ _1"></span>raceMonke<span class="_ _1"></span>y independent of the concrete type system and type</div><div class="t m0 xd h3 y89 ff2 fs3 fc0 sc0 ls0 ws8">con<span class="_ _1"></span>version<span class="_ _7"> </span>rules of the source<span class="_ _7"> </span>language. The LIR operations<span class="_ _7"> </span>are</div><div class="t m0 xd h3 y8a ff2 fs3 fc0 sc0 ls0 wsd">generic enough that the backend compiler is language independent.</div><div class="t m0 xd h3 y8b ff2 fs3 fc0 sc0 ls0 ws4">Figure 3 shows an e<span class="_ _1"></span>xample LIR trace.</div><div class="t m0 x11 h3 y8c ff2 fs3 fc0 sc0 ls0 ws10">Bytecode interpreters typically<span class="_ _a"> </span>represent<span class="_ _b"> </span>values in<span class="_ _a"> </span>a<span class="_ _b"> </span>various</div><div class="t m0 xd h3 y8d ff2 fs3 fc0 sc0 ls0 ws2">complex data structures (e.g., hash tables) in<span class="_ _6"> </span>a boxed format (i.e.,</div><div class="t m0 xd h3 y8e ff2 fs3 fc0 sc0 ls0 ws5">with attached<span class="_ _6"> </span>type tag bits).<span class="_ _6"> </span>Since a trace<span class="_ _6"> </span>is intended to<span class="_ _6"> </span>represent</div><div class="t m0 xd h3 y8f ff2 fs3 fc0 sc0 ls0 ws14">efﬁcient<span class="_ _7"> </span>code<span class="_ _6"> </span>that eliminates all that<span class="_ _7"> </span>comple<span class="_ _1"></span>xity<span class="_ _4"></span>, our traces oper<span class="_ _1"></span>-</div><div class="t m0 xd h3 y90 ff2 fs3 fc0 sc0 ls0 ws14">ate on unbox<span class="_ _1"></span>ed v<span class="_ _1"></span>alues in simple v<span class="_ _1"></span>ariables and arrays<span class="_ _7"> </span>as<span class="_ _7"> </span>much<span class="_ _7"> </span>as</div><div class="t m0 xd h3 y91 ff2 fs3 fc0 sc0 ls0">possible.</div><div class="t m0 x10 h3 y53 ff2 fs3 fc0 sc0 ls0 ws2">A trace records all<span class="_ _5"> </span>its intermediate values in<span class="_ _5"> </span>a small activ<span class="_ _1"></span>ation</div><div class="t m0 xf h3 y54 ff2 fs3 fc0 sc0 ls0 ws6">record area. T<span class="_ _4"></span>o make variable accesses f<span class="_ _1"></span>ast on trace, the trace also</div><div class="t m0 xf h3 y55 ff2 fs3 fc0 sc0 ls0 ws2">imports local and global v<span class="_ _1"></span>ariables by unboxing<span class="_ _6"> </span>them and copying</div><div class="t m0 xf h3 y56 ff2 fs3 fc0 sc0 ls0 wsa">them to its acti<span class="_ _1"></span>v<span class="_ _1"></span>ation record.<span class="_ _7"> </span>Thus, the trace can read and<span class="_ _7"> </span>write</div><div class="t m0 xf h3 y57 ff2 fs3 fc0 sc0 ls0 wsd">these v<span class="_ _1"></span>ariables<span class="_ _9"> </span>with simple loads<span class="_ _9"> </span>and stores from<span class="_ _9"> </span>a nativ<span class="_ _1"></span>e acti<span class="_ _1"></span>v<span class="_ _1"></span>ation</div><div class="t m0 xf h3 y58 ff2 fs3 fc0 sc0 ls0 ws1a">recording, independently of the boxing mechanism used by the</div><div class="t m0 xf h3 y59 ff2 fs3 fc0 sc0 ls0 wsa">interpreter<span class="_ _1"></span>.<span class="_ _7"> </span>When the trace<span class="_ _7"> </span>exits, the<span class="_ _7"> </span>VM boxes the<span class="_ _7"> </span>values<span class="_ _7"> </span>from</div><div class="t m0 xf h3 y5a ff2 fs3 fc0 sc0 ls0 ws6">this nati<span class="_ _1"></span>ve<span class="_ _5"> </span>storage location and<span class="_ _5"> </span>copies them back to<span class="_ _3"> </span>the interpreter</div><div class="t m0 xf h3 y5b ff2 fs3 fc0 sc0 ls0">structures.</div><div class="t m0 x10 h3 y5c ff2 fs3 fc0 sc0 ls0 ws1f">For e<span class="_ _1"></span>very control-ﬂo<span class="_ _1"></span>w branch in the source program, the</div><div class="t m0 xf h3 y5d ff2 fs3 fc0 sc0 ls0 ws4">recorder generates<span class="_ _3"> </span>conditional<span class="_ _3"> </span>exit<span class="_ _3"> </span>LIR instructions.<span class="_ _3"> </span>These<span class="_ _3"> </span>instruc-</div><div class="t m0 xf h3 y5e ff2 fs3 fc0 sc0 ls0 ws5">tions exit from<span class="_ _6"> </span>the trace if required control ﬂow is<span class="_ _6"> </span>different from</div><div class="t m0 xf h3 y5f ff2 fs3 fc0 sc0 ls0 ws5">what it<span class="_ _6"> </span>was at<span class="_ _6"> </span>trace recording, ensuring<span class="_ _6"> </span>that the trace<span class="_ _6"> </span>instructions</div><div class="t m0 xf h3 y60 ff2 fs3 fc0 sc0 ls0 ws13">are run only if<span class="_ _b"> </span>they<span class="_ _b"> </span>are supposed to.<span class="_ _b"> </span>W<span class="_ _4"></span>e call these instructions</div><div class="t m0 xf h3 y61 ffa fs3 fc0 sc0 ls0 ws20">guar<span class="_ _1"></span>d <span class="ff2">instructions.</span></div><div class="t m0 x10 h3 y62 ff2 fs3 fc0 sc0 ls0 wsd">Most of<span class="_ _9"> </span>our traces<span class="_ _3"> </span>represent<span class="_ _9"> </span>loops and<span class="_ _3"> </span>end<span class="_ _9"> </span>with the<span class="_ _3"> </span>special<span class="_ _9"> </span><span class="ff7">loop</span></div><div class="t m0 xf h3 y63 ff2 fs3 fc0 sc0 ls0 ws5">LIR instruction.<span class="_ _6"> </span>This is<span class="_ _6"> </span>just an<span class="_ _6"> </span>unconditional branch to<span class="_ _6"> </span>the top<span class="_ _6"> </span>of</div><div class="t m0 xf h3 y64 ff2 fs3 fc0 sc0 ls0 ws4">the trace. Such traces return only via guards.</div><div class="t m0 x10 h3 y65 ff2 fs3 fc0 sc0 ls0 ws5">Now<span class="_ _4"></span>, we describe the ke<span class="_ _1"></span>y optimizations that are performed as</div><div class="t m0 xf h3 y66 ff2 fs3 fc0 sc0 ls0 ws5">part of recording LIR.<span class="_ _6"> </span>All of these optimizations reduce comple<span class="_ _1"></span>x</div><div class="t m0 xf h3 y67 ff2 fs3 fc0 sc0 ls0 ws12">dynamic language<span class="_ _b"> </span>constructs<span class="_ _b"> </span>to<span class="_ _b"> </span>simple<span class="_ _b"> </span>typed<span class="_ _b"> </span>constructs<span class="_ _b"> </span>by<span class="_ _b"> </span>spe-</div><div class="t m0 xf h3 y68 ff2 fs3 fc0 sc0 ls0 ws4">cializing for the<span class="_ _3"> </span>current trace. Each<span class="_ _3"> </span>optimization requires guard<span class="_ _3"> </span>in-</div><div class="t m0 xf h3 y69 ff2 fs3 fc0 sc0 ls0 ws14">structions to verify their<span class="_ _7"> </span>assumptions<span class="_ _7"> </span>about<span class="_ _7"> </span>the<span class="_ _7"> </span>state<span class="_ _7"> </span>a<span class="_ _1"></span>nd e<span class="_ _1"></span>xit the</div><div class="t m0 xf h3 y6a ff2 fs3 fc0 sc0 ls0 ws4">trace if necessary<span class="_ _1"></span>.</div><div class="t m0 x10 ha y6b ff1 fs3 fc0 sc0 ls0 ws4">T<span class="_ _4"></span>ype specialization.</div><div class="t m0 x10 h3 y6c ff2 fs3 fc0 sc0 ls0 ws8">All LIR primiti<span class="_ _1"></span>ves<span class="_ _7"> </span>apply to operands of<span class="_ _7"> </span>speciﬁc types. Thus,</div><div class="t m0 xf h3 y6d ff2 fs3 fc0 sc0 ls0 ws21">LIR traces are necessarily type-specialized, and a compiler can</div><div class="t m0 xf h3 y6e ff2 fs3 fc0 sc0 ls0 ws1a">easily produce a translation that requires no<span class="_ _b"> </span>type dispatches. A</div><div class="t m0 xf h3 y6f ff2 fs3 fc0 sc0 ls0 ws2">typical bytecode<span class="_ _6"> </span>interpreter carries<span class="_ _6"> </span>tag bits along<span class="_ _5"> </span>with each v<span class="_ _1"></span>alue,</div><div class="t m0 xf h3 y70 ff2 fs3 fc0 sc0 ls0 ws4">and to perform<span class="_ _3"> </span>any operation,<span class="_ _3"> </span>must check the tag<span class="_ _3"> </span>bits, dynamically</div><div class="t m0 xf h3 y71 ff2 fs3 fc0 sc0 ls0 ws0">dispatch, mask<span class="_ _a"> </span>out<span class="_ _a"> </span>the tag<span class="_ _a"> </span>bits<span class="_ _a"> </span>to reco<span class="_ _1"></span>ver<span class="_ _a"> </span>the<span class="_ _a"> </span>untagged v<span class="_ _1"></span>alue,</div><div class="t m0 xf h3 y72 ff2 fs3 fc0 sc0 ls0 ws4">perform the<span class="_ _3"> </span>operation, and<span class="_ _3"> </span>then reapply<span class="_ _3"> </span>tags. LIR<span class="_ _3"> </span>omits e<span class="_ _1"></span>v<span class="_ _1"></span>erything</div><div class="t m0 xf h3 y73 ff2 fs3 fc0 sc0 ls0 ws4">except the operation itself.</div><div class="t m0 x10 h3 y74 ff2 fs3 fc0 sc0 ls0 ws4">A potential problem is that<span class="_ _3"> </span>some operations can produce v<span class="_ _1"></span>alues</div><div class="t m0 xf h3 y75 ff2 fs3 fc0 sc0 ls0 ws8">of unpredictable types. F<span class="_ _1"></span>or e<span class="_ _1"></span>xample, reading a property<span class="_ _7"> </span>from an</div><div class="t m0 xf h3 y76 ff2 fs3 fc0 sc0 ls0 ws12">object could yield a v<span class="_ _1"></span>alue of any type, not necessarily the type</div><div class="t m0 xf h3 y77 ff2 fs3 fc0 sc0 ls0 ws14">observed during recording.<span class="_ _7"> </span>The<span class="_ _7"> </span>recorder<span class="_ _7"> </span>emits<span class="_ _6"> </span>guard instructions</div><div class="t m0 xf h3 y78 ff2 fs3 fc0 sc0 ls0 ws2">that conditionally<span class="_ _5"> </span>exit if<span class="_ _5"> </span>the operation yields<span class="_ _5"> </span>a v<span class="_ _1"></span>alue of<span class="_ _5"> </span>a dif<span class="_ _1"></span>ferent</div><div class="t m0 xf h3 y79 ff2 fs3 fc0 sc0 ls0 ws10">type from that seen during recording. These guard instructions</div><div class="t m0 xf h3 y7a ff2 fs3 fc0 sc0 ls0 ws2">guarantee that<span class="_ _5"> </span>as long as<span class="_ _5"> </span>execution<span class="_ _5"> </span>is on trace,<span class="_ _5"> </span>the types of<span class="_ _5"> </span>values</div><div class="t m0 xf h3 y7b ff2 fs3 fc0 sc0 ls0 ws2">match those<span class="_ _5"> </span>of the<span class="_ _6"> </span>typed trace.<span class="_ _5"> </span>When the<span class="_ _6"> </span>VM observ<span class="_ _1"></span>es a<span class="_ _5"> </span>side exit</div><div class="t m0 xf h3 y7c ff2 fs3 fc0 sc0 ls0 ws2">along such<span class="_ _5"> </span>a type<span class="_ _6"> </span>guard, a<span class="_ _5"> </span>new<span class="_ _6"> </span>typed trace<span class="_ _5"> </span>is recorded<span class="_ _6"> </span>originating</div><div class="t m0 xf h3 y7d ff2 fs3 fc0 sc0 ls0 ws6">at the side<span class="_ _5"> </span>exit location,<span class="_ _3"> </span>capturing the new<span class="_ _3"> </span>type of the operation in</div><div class="t m0 xf h3 y7e ff2 fs3 fc0 sc0 ls0">question.</div><div class="t m0 x10 h3 y7f ff1 fs3 fc0 sc0 ls0 ws13">Representation specialization: objects. <span class="ff2 ws15">In Ja<span class="_ _1"></span>v<span class="_ _1"></span>aScript, name</span></div><div class="t m0 xf h3 y80 ff2 fs3 fc0 sc0 ls0 ws8">lookup semantics<span class="_ _7"> </span>are<span class="_ _7"> </span>complex<span class="_ _7"> </span>and<span class="_ _7"> </span>potentially<span class="_ _7"> </span>expensi<span class="_ _1"></span>v<span class="_ _1"></span>e because</div><div class="t m0 xf h3 y117 ff2 fs3 fc0 sc0 ls0 ws6">they include<span class="_ _3"> </span>features like object inheritance<span class="_ _3"> </span>and <span class="ff7 ws1">eval</span>. T<span class="_ _4"></span>o ev<span class="_ _1"></span>aluate</div><div class="t m0 xf h3 y118 ff2 fs3 fc0 sc0 ls0 ws8">an object property<span class="_ _7"> </span>read e<span class="_ _1"></span>xpression lik<span class="_ _1"></span>e <span class="ff7 ws1">o.x</span>,<span class="_ _7"> </span>the interpreter must</div><div class="t m0 xf h3 y119 ff2 fs3 fc0 sc0 ls0 ws2">search the<span class="_ _5"> </span>property map<span class="_ _6"> </span>of <span class="ff7 lsb">o</span>and<span class="_ _5"> </span>all of<span class="_ _6"> </span>its prototypes<span class="_ _5"> </span>and parents.</div><div class="t m0 xf h3 y11a ff2 fs3 fc0 sc0 ls0 ws8">Property maps<span class="_ _7"> </span>can<span class="_ _7"> </span>be<span class="_ _7"> </span>implemented<span class="_ _7"> </span>with dif<span class="_ _1"></span>ferent<span class="_ _7"> </span>data<span class="_ _7"> </span>structures</div><div class="t m0 xf h3 y11b ff2 fs3 fc0 sc0 ls0 ws8">(e.g., per<span class="_ _1"></span>-object hash<span class="_ _7"> </span>tables<span class="_ _7"> </span>or shared<span class="_ _7"> </span>hash tables),<span class="_ _7"> </span>so the<span class="_ _7"> </span>search</div><div class="t m0 xf h3 y11c ff2 fs3 fc0 sc0 ls0 ws13">process also must dispatch on the representation<span class="_ _b"> </span>of each object</div><div class="t m0 xf h3 y11d ff2 fs3 fc0 sc0 ls0 wsd">found during search.<span class="_ _9"> </span>TraceMonke<span class="_ _1"></span>y can simply<span class="_ _9"> </span>observe the result of</div><div class="t m0 xf h3 y11e ff2 fs3 fc0 sc0 ls0 ws5">the search<span class="_ _6"> </span>process and record<span class="_ _6"> </span>the simplest possible<span class="_ _6"> </span>LIR to access</div><div class="t m0 xf h3 y11f ff2 fs3 fc0 sc0 ls0 wsd">the property value.<span class="_ _3"> </span>F<span class="_ _1"></span>or example,<span class="_ _3"> </span>the search might<span class="_ _3"> </span>ﬁnds the v<span class="_ _1"></span>alue of</div><div class="t m0 xf h3 y120 ff7 fs3 fc0 sc0 ls0 ws4">o.x <span class="ff2">in the<span class="_ _3"> </span>prototype of<span class="_ _3"> </span></span><span class="ws1">o</span><span class="ff2">, which<span class="_ _3"> </span>uses a shared<span class="_ _3"> </span>hash-table represen-</span></div><div class="t m0 xf h3 y121 ff2 fs3 fc0 sc0 ls0 ws4">tation that<span class="_ _3"> </span>places <span class="ff7 ls9 ws22">x<span class="_ _1"></span><span class="ff2 ls0 ws4">in slot<span class="_ _3"> </span>2 of<span class="_ _3"> </span>a property<span class="_ _3"> </span>vector<span class="_ _4"></span>. Then the<span class="_ _3"> </span>recorded</span></span></div><div class="t m0 xf h3 y122 ff2 fs3 fc0 sc0 ls0 ws4">can generate<span class="_ _3"> </span>LIR<span class="_ _3"> </span>that<span class="_ _3"> </span>reads <span class="ff7">o.x<span class="_ _3"> </span></span>with<span class="_ _3"> </span>just tw<span class="_ _1"></span>o<span class="_ _3"> </span>or three<span class="_ _3"> </span>loads:<span class="_ _3"> </span>one to</div><div class="t m0 xf h3 y123 ff2 fs3 fc0 sc0 ls0 ws4">get the<span class="_ _3"> </span>prototype,<span class="_ _3"> </span>possibly<span class="_ _3"> </span>one to<span class="_ _3"> </span>get<span class="_ _3"> </span>the<span class="_ _3"> </span>property<span class="_ _3"> </span>value<span class="_ _3"> </span>v<span class="_ _1"></span>ector<span class="_ _1"></span>,<span class="_ _3"> </span>and</div><div class="t m0 xf h3 y124 ff2 fs3 fc0 sc0 ls0 ws6">one more to<span class="_ _3"> </span>get slot 2 from<span class="_ _3"> </span>the vector<span class="_ _1"></span>.<span class="_ _3"> </span>This is a v<span class="_ _1"></span>ast<span class="_ _3"> </span>simpliﬁcation</div><div class="t m0 xf h3 y125 ff2 fs3 fc0 sc0 ls0 ws6">and speedup compared<span class="_ _3"> </span>to the original interpreter<span class="_ _3"> </span>code. Inheritance</div><div class="t m0 xf h3 y126 ff2 fs3 fc0 sc0 ls0 ws5">relationships and<span class="_ _6"> </span>object representations<span class="_ _6"> </span>can change during<span class="_ _6"> </span>execu-</div><div class="t m0 xf h3 y127 ff2 fs3 fc0 sc0 ls0 ws2">tion, so<span class="_ _5"> </span>the simpliﬁed code<span class="_ _6"> </span>requires guard<span class="_ _5"> </span>instructions that ensure</div><div class="t m0 xf h3 y128 ff2 fs3 fc0 sc0 ls0 wsd">the object<span class="_ _9"> </span>representation is the<span class="_ _9"> </span>same. In T<span class="_ _1"></span>raceMonk<span class="_ _1"></span>ey<span class="_ _4"></span>, objects’<span class="_ _9"> </span>rep-</div></div><div class="pi" data-data='{"ctm":[1.673203,0.000000,0.000000,1.673203,0.000000,0.000000]}'></div></div></div>
